webpackJsonp([159],{"+CFr":function(e,t,n){"use strict";(function(e){var r,i=n("CRR+"),o=(n.n(i),n("bSQD")),a=(n.n(o),n("QcjV")),s=(n.n(a),n("bkHr")),c=n.n(s),u=n("kkyZ"),l=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}IntersectionObserver.prototype.POLL_INTERVAL=300,MutationObserver._period=600;var p="guid";var g=function(){function e(t,n){h(this,e),this.data=[],this.common=n,this.target=t,this.triggerHandler=null}return f(e,[{key:"add",value:function(e){var t=this;this.data.push(e),this.triggerHandler&&clearTimeout(this.triggerHandler),this.triggerHandler=setTimeout(function(){t.target.sendData({type:"explore",data:d({},t.common,{ubcta:t.data})}),t.data=[]},this.target.EXPLORE_TIME_THRESHOLD)}}]),e}(),m=function(e){window.gtla||(window.gtla=[]);var t=u.a.get("bgsid")?u.a.get("bgsid"):u.a.get("AKAM_CLIENTID");t&&window.TrackData&&(window.TrackData.common.oi=t);var n=u.a.get(p);n&&window.TrackData&&(window.TrackData.common.u=n),e.GTLA=window.gtla,e.DATA_TRACK=window.TrackData||[],e.DATA_TRACK_COMMON=e.DATA_TRACK.common||{}}(r=function(){function t(e){var n=e.config,r=void 0===n?{}:n,i=e.page,o=void 0===i?"":i,a=e.context,s=void 0===a?"#siteWrap":a,c=e.extendData,u=void 0===c?{}:c;h(this,t),this.config=r,this.page=o,this.OBSERVER=[],this.context=s,this.ROOT_OBSERVER=null,this.PROCESS_CONFIG={},this.ASYNC_CONFIG={},this.CLICK_CONFIG={},this.EXPLORE_ASYNC={},this.EXPLORE_SYNC={},this.EXPLORE_QUEUE={},this.MUTATION=new MutationObserver(this.mutationCallback.bind(this)),this.mutationSize=0,t.extendData=u,t.startTime=new Date}return f(t,[{key:"observerCallback",value:function(e,t){var n=this;e.length?e.forEach(function(e){e.intersectionRatio>=t.thresholds[0]&&(n.exploreTrackCallback(e.target),t.unobserve(e.target))}):t.disconnect()}},{key:"exploreTrackCallback",value:function(e){if(e.dataset.trackKey){var n=e.dataset.trackKey.split("_")[0],r=this.findConfigKeyData(e.classList).configData.pageModule,i={};this.EXPLORE_QUEUE[r]||(this.EXPLORE_QUEUE[r]=new g(t,{pm:r})),"md"===r&&(i.mdlc=e.dataset.trackModule,i.mdID=n),"mr"===r&&(i.mrlc=e.dataset.trackModule,i.sku=n),"mp"===r&&(i.sku=n),this.EXPLORE_QUEUE[r].add(i)}}},{key:"customCrossPageData",value:function(){return{}}},{key:"crossPageSendData",value:function(){var e=this,n=JSON.parse(window.localStorage.getItem(t.TRACK_CROSS_PAGE)||"{}"),r=t.DATA_TRACK_COMMON.pageType;n[r]&&n[r].forEach(function(n){t.sendData({data:d({},n,e.customCrossPageData())})}),window.localStorage.removeItem(t.TRACK_CROSS_PAGE)}},{key:"run",value:function(){var e=this;setTimeout(function(){Object.keys(e.config).length&&(e.splitDataConfig(),e.parsePageModule(),e.clickTrack(),e.exploreTrack(),e.mutationTrack(),e.crossPageSendData()),e.explorePage()})}},{key:"exploreTrack",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.EXPLORE_SYNC;Object.keys(n).length&&(this.ROOT_OBSERVER||(this.ROOT_OBSERVER=new IntersectionObserver(this.observerCallback.bind(this),t.OPTIONS)),this.OBSERVER.push(this.ROOT_OBSERVER),Object.entries(n).forEach(function(n){var r=l(n,2),i=r[0],o=r[1];if("root"!==o.exploreRoot){var a=$(i).closest(o.exploreRoot)[0],s=new IntersectionObserver(e.observerCallback.bind(e),d({},t.OPTIONS,{root:a,threshold:.9}));e.OBSERVER.push(s),$(i).each(function(t,n){t<o.exploreFirstShow?e.ROOT_OBSERVER.observe(n):s.observe(n)})}else $(i).each(function(t,n){e.ROOT_OBSERVER.observe(n)})}))}},{key:"explorePageData",value:function(){return{}}},{key:"explorePage",value:function(){this.page&&t.sendData({data:d({},t.DATA_TRACK.common,this.explorePageData()),type:"explore"})}},{key:"bindFunction",value:function(){return this.clickTrackCallback.bind(this)}},{key:"clickTrack",value:function(){if(Object.keys(this.CLICK_CONFIG).length){this.bindFunctionScope=this.clickTrackCallback.bind(this);try{document.querySelector(this.context).addEventListener("click",this.bindFunctionScope)}catch(e){}}}},{key:"findConfigKeyData",value:function(e){var t=d({},this.EXPLORE_ASYNC,this.EXPLORE_SYNC),n=Object.keys(t),r=Array.from(e),i=n.filter(function(e){return r.includes(e.substr(1))}),o=l(i,1)[0];return{configData:t[o],classKey:o}}},{key:"customClickTrackCallback",value:function(){return{}}},{key:"clickTrackCallback",value:function(n){var r=n.target||n.srcElement,i=this.searchTarget(r),o=i.classKey,a=i.dom;if(o){var s=this.CLICK_CONFIG[o],c=s.pageModule,u={},l=null;c&&(u.pm=c);var f=a.closest("[data-track-key]");if(f){var h=f.dataset.trackKey,p=h.split("_")[0],g=f.dataset.trackModule;l=t.DATA_TRACK[h],u.x=p,g?"md"===c?u.ubcta={mdlc:g,mdID:p}:"mr"===c&&(u.ubcta={mrlc:g,rank:$(a).index(o)+1}):"mp"===c&&(u.ubcta={rank:$(a).index(o)+1}),h.includes("_")&&(u.skuinfo={sku:p,pam:1,pc:l?l.pc:"",k:l?l.k:""})}else Object.assign(u,s.customData);u=d({},u,this.customClickTrackCallback({dom:a,classKey:o,configData:s,module:e,targetData:l})),s.crossPage?t.crossPageSaveData({data:u,toPage:s.crossPage}):t.sendData({type:"click",data:u})}}},{key:"mutationCallback",value:function(e){var t=this,n=new Set;e.forEach(function(e){return n.add(e.target)}),this.mutationSize-=n.size,this.mutationSize<=0&&this.MUTATION.disconnect(),n.forEach(function(e){var n=Array.from(e.classList),r={},i=Object.entries(t.EXPLORE_ASYNC).filter(function(e){return n.includes(e[1].observer.substr(1))});i.length&&(i.forEach(function(e){var t=l(e,2),n=t[0],i=t[1];r[n]=i}),t.parsePageModule(r),Object.keys(r).length&&(t.exploreTrack(r),setTimeout(function(){c.a.publish("asyncExplore",{selector:i[0][0],observeElement:e})},0)))})}},{key:"mutationTrack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.EXPLORE_ASYNC,n=new Set;Object.values(t).forEach(function(e){n.add(e.observer)}),this.mutationSize=n.size,n.forEach(function(t){try{e.MUTATION.observe(document.querySelector(t),{childList:!0})}catch(t){e.mutationSize-=1}})}},{key:"searchTarget",value:function(e){var t=e,n={classKey:null,dom:null};do{var r=Object.keys(this.CLICK_CONFIG).filter(function(e){return Array.from(t.classList).includes(e.substr(1))});n.classKey=r[0],n.dom=t,t=t.parentElement}while(!n.classKey&&null!==t);return n}},{key:"splitDataConfig",value:function(){var e=this;Object.entries(this.config).forEach(function(t){var n=l(t,2),r=n[0],i=n[1];i.click&&(i.click instanceof Array&&i.click.forEach(function(t){"self"===t?e.CLICK_CONFIG[r]=i:e.CLICK_CONFIG[t]=i}),"[object String]"===Object.prototype.toString.call(i.click)&&("self"===i.click?e.CLICK_CONFIG[r]=i:e.CLICK_CONFIG[i.click]=i)),i.explore&&(i.async?e.EXPLORE_ASYNC[r]=i:e.EXPLORE_SYNC[r]=i,i.append&&(e.EXPLORE_ASYNC[r]=i))})}},{key:"parsePageModule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.EXPLORE_SYNC;Object.keys(e).forEach(function(n){var r=e[n];r.module&&(r.start||r.parent||$(n).each(function(e,t){$(t).attr("data-track-module",r.module)}),!r.start&&r.parent&&$(n).each(function(e,n){var i=$(n).parents(r.parent.query),o=t.getModuleLevel(r.parent,r.parent.query,i);$(n).attr("data-track-module",r.module.replace("@",String.fromCharCode(o)))}),r.start&&!r.parent&&$(n).each(function(e,i){var o=t.getModuleLevel(r,n,i);$(i).attr("data-track-module",r.module.replace("@",o))}),r.start&&r.parent&&$(n).each(function(e,i){var o=t.getModuleLevel(r,n,i),a=$(i).parents(r.parent.query),s=t.getModuleLevel(r.parent,r.parent.query,a);$(i).attr("data-track-module",String.fromCharCode(s)+"_"+o)}))})}},{key:"destroy",value:function(){this.OBSERVER.forEach(function(e){e.disconnect()}),this.EXPLORE_QUEUE={},this.MUTATION.disconnect(),document.removeEventListener("click",this.bindFunctionScope)}}],[{key:"appendCommonData",value:function(e){t.DATA_TRACK_COMMON=d({},t.DATA_TRACK_COMMON,e)}},{key:"sendData",value:function(e){var n=e.type,r=void 0===n?"click":n,i=e.data;Object.assign(i,t.extendData,{w:new Date-t.startTime||"0"});var o={trackType:"click"===r?"trackEvent":"trackBrowser"},a=d({},t.DATA_TRACK.common,o,i);delete a.pageType,t.GTLA.push(a)}},{key:"crossPageSaveData",value:function(e){var n=e.data,r=e.toPage,i=JSON.parse(window.localStorage.getItem(t.TRACK_CROSS_PAGE)||"{}");i[r]||(i[r]=[]),i[r].push(d({},t.DATA_TRACK.common,n,{trackType:"trackEvent"})),window.localStorage.setItem(t.TRACK_CROSS_PAGE,JSON.stringify(i))}},{key:"verify",value:function(){return!!t.DATA_TRACK}},{key:"getModuleLevel",value:function(e,t,n){var r=e.start;return Object(a.isString)(r)&&(r=r.codePointAt()),$(n).index(t)+r}}]),t}())||r;m.EXPLORE_RATIO=.6,m.EXPLORE_TIME_THRESHOLD=3e3,m.TRACK_CROSS_PAGE="TRACK_CROSS_PAGE",m.flag=0,m.OPTIONS={root:null,rootMargin:"0px",threshold:m.EXPLORE_RATIO},m.extendData={},m.startTime=0,t.a=m}).call(t,n("i9Rx")(e))},"/bVd":function(e,t,n){"use strict";var r,i,o,a,s,c=n("Pnud"),u=(n.n(c),n("Ad+/"),n("CVY8")),l=(n.n(u),n("GvPl")),d=n.n(l),f=n("bkHr"),h=n.n(f),p=n("DDec"),g=n("pQPz"),m=n("s7Iq"),v=n.n(m),y=n("Z4GC"),b=n("kGVW"),w=n("BFMY"),_=n("WLlz"),k=n("/Y6i"),x=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),C=this,S=(r=T(regeneratorRuntime.mark(function e(){var t,r,i,o,a,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],r=d()(".js-recomOuter"),i=d()(".js-recomInner"),!((o=Array.from(d()(".siteSearch_noWrapItem"))).length>0)){e.next=18;break}a=r.width(),s=0,c=o.length;case 7:if(!(s<c)){e.next=18;break}if(!(i.width()>a)){e.next=14;break}u=o.pop(),t.push(u),u.remove(),e.next=15;break;case 14:return e.abrupt("break",18);case 15:s+=1,e.next=7;break;case 18:if(!t.length){e.next=26;break}return o=o.map(function(e){return{url:d()(e).attr("href"),text:d()(e).text()}}),t=t.map(function(e){return{url:d()(e).attr("href"),text:d()(e).text()}}),e.next=23,n.e(60).then(n.bind(null,"2Xj3"));case 23:l=e.sent,r.html(l({visible:o,hide:t})),r.removeClass("siteSearch_recom-hide");case 26:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),O=(i=T(regeneratorRuntime.mark(function e(){var t,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.data,s=void 0===a?[]:a,c=o.type,u=void 0===c?"hot":c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.d.get(),r=s,"hot"===u&&(r=s.filter(function(e){return!t.includes(e.name)}).slice(0,6)),e.next=5,n.e(61).then(n.bind(null,"TYkJ"));case 5:i=e.sent,d()(".js-candidate").html(i({history:t,data:r,type:u})).addClass("active");case 7:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),j=(o=T(regeneratorRuntime.mark(function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.keyword,i=void 0===r?"":r,o=n.cateId,a=void 0===o?0:o,s=n.pageType,c=void 0===s?"":s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.q.http({params:{keyword:i,cate_id:a,page_type:c}});case 2:(t=e.sent)&&O({data:t.data,type:i?"suggest":"hot"});case 4:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)}),E=(a=T(regeneratorRuntime.mark(function e(){var t,r,i,o,a,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.b.getCurrencyCountry();case 2:return t=e.sent,r=t.currencyCode,i=t.currencySign,o=t.currencyName,a=t.countryCode,s={currency:EXCHANGERATE,defaultCurrencyCode:r,defaultCurrencySign:i,defaultCurrencyName:o},e.next=10,Promise.all([n.e(59).then(n.bind(null,"eb/3"))]);case 10:c=e.sent,u=x(c,1),l=u[0],d()(".js-exchangeContain").replaceWith(l(s)),d()(".js-countrySelect").select({searchable:!0}).select("setValue",a);case 15:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)});function T(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}v.a.trans=k.b,v.a.staticAsset=w.g,Object(y.a)(),S(),d()(".js-liveChatSwitch").on("mouseenter","li",function(e){var t=d()(e.currentTarget);t.siblings("li").find("a").removeClass("active"),t.find("a").addClass("active"),d()(".js-liveChatBox>ul").hide().eq(t.index()).show()}),h.a.publish("sysUpdateUserInfo");try{new g.default(".js-cateContain")}catch(e){}function A(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d()(".siteSearch_input").val(),n=+(d()(".js-cateSearch").attr("data-cate-id")||0);if(t.trim()){w.d.set(t);var r="";r=GLOBAL.DOMAIN_MAIN+"/"+(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=t).replace(/\*/g,"~~")).replace(/\|/g,"]]")).replace(/\=/g,"((")).replace(/\"/g," ")).replace(/\</g,"))")).replace(/\>/g,")))")).replace(/\?/g,"!!!")).replace(/\+/g,"__")).replace(/\-/g,"^^")).replace(/\//g,"..")).replace(/\\/g,"...")).replace(/\%/g,"!!")).replace(/\#/g,"~~~")).replace(/\>/g,"___")).replace(/\</g,"^^^")).replace(/\"/g,"[[")).replace(/\$/g,"[[[")).replace(/\@/g," ")).replace(/\s+/g,"-"),encodeURIComponent(e))+"-_gear/",n&&0!==n&&(r=r+"c_"+n+"/"),window.location.href=r}}(s=window.location.pathname.match(/c_([^/]*)/))&&d()(".js-cateSearch").attr("data-cate-id",s[1]),d()(".js-cateSearch").on("click",function(e){d()(e.currentTarget).next("div").slideToggle("fast")}),d()(".js-cateContain").on("click","li",function(e){var t=d()(e.currentTarget),n=d()(".js-cateSearch");n.html(t.text()+'<i class="icon-arrows-small-down"></i>'),n.attr("data-cate-id",t.attr("data-cate-id")),d()(".js-cateContain").slideUp()}),h.a.subscribe("nativeDocumentClick",function(e,t){var n=t.target;d()(".siteSearch_cate").length>0&&(d.a.contains(d()(".siteSearch_cate")[0],n)||d()(".js-cateContain").slideUp()),d()(".js-candidate").length>0&&(d.a.contains(d()(".js-candidate")[0],n)||d()(".siteSearch_input")[0]===n||(d()(".js-candidate").removeClass("active"),b.q.cancel&&b.q.cancel()))}),window.addEventListener("pageshow",function(e){e.persisted&&(d()(".siteHeader_userItem.js-relocate").removeClass("loaded"),d()(".siteHeader_userItem.js-relocat").html('<div class="icon-loading headerCart_holder"></div>'))}),d()(".siteHeader_userItem.js-relocate").mouseenter(function(e){var t=d()(e.currentTarget);t.hasClass("loading")||t.hasClass("loaded")||(t.addClass("loading"),h.a.publish("sysUpdateSampleCart",function(){t.addClass("loaded"),t.removeClass("loading")}))});var R,I,P=Object(p.n)(function(){var e=d()(".js-cateSearch").attr("data-cate-id");j({keyword:d()(".siteSearch_input").val(),cateId:e,pageType:GLOBAL.PAGETYPE})},600);function L(e){var t=e.type;if("currency"===t||"all"===t){var n=d()(".js-headerCurrency .siteHeader_currencyItem.active")[0];h.a.publish("sysUpdateCurrency",{currency:{currencyCode:n.dataset.currencyCode,currencyName:n.dataset.currencyName,currencySign:n.dataset.currencySign}})}if("country"===t||"all"===t){var r=d()(".js-countrySelect")[0];h.a.publish("sysUpdateCountry",{gb_countryCode:r.value,gb_countryName:r.options[r.selectedIndex].text}),w.b.setStorageCountry({countryCode:r.value}),h.a.publish("sysUpdateCurrencySuccess")}}d()(".js-siteSearch").on("input",".siteSearch_input",P).on("focus",".siteSearch_input",(R=T(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=d()(t.currentTarget),r=d()(".js-cateSearch").attr("data-cate-id"),j({keyword:n.val(),cateId:r,pageType:GLOBAL.PAGETYPE});case 3:case"end":return e.stop()}},e,C)})),function(e){return R.apply(this,arguments)})).on("click",".siteSearch_btn",function(){A()}).on("click",".js-historyClear",function(e){var t=d()(e.currentTarget),n=t.siblings("span").text();w.d.remove(n)?t.parent("li").remove():t.parents(".siteSearch_history").remove()}).on("click",".siteSearch_historyItem>span:first-child",function(e){A(d()(e.currentTarget).text())}).on("click",".js-historyClearAll",function(e){var t=d()(e.currentTarget);w.d.removeAll(),t.parents(".siteSearch_history").remove()}).on("keypress",".siteSearch_input",function(e){13===e.keyCode&&A()}),d()(".js-cateFixed").on("click",function(e){e.stopPropagation(),d()(".headerCate_itemBox-fixed").addClass("active")}),d()(".js-siteHeader").on("mouseleave",".headerCate_itemBox-fixed",function(){d()(this).removeClass("active")}),d()("body").click(function(){d()(".headerCate_itemBox-fixed").removeClass("active")}),h.a.subscribe("sysUpdateCurrencySuccess",(I=T(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.countryName){e.next=4;break}return e.next=3,w.b.getCurrencyCountry();case 3:n=e.sent;case 4:d()(".js-countryCurrencyText").html(Object(k.b)("base.ship_to")+" "+n.countryName+" / "+n.currencyCode);case 5:case"end":return e.stop()}},e,C)})),function(e,t){return I.apply(this,arguments)})),E(),d()(".js-countryCurrency").on("mouseenter",".siteHeader_currencyContain",function(){d()(this).addClass("active")}).on("mouseleave",".siteHeader_currencyContain",function(){d()(this).removeClass("active")}).on("click",".siteHeader_currencyItem",function(){var e=d()(this),t=this.dataset.currencySign,n=this.dataset.currencyCode;e.addClass("active").siblings("li").removeClass("active"),d()(".js-headerCurrency .siteHeader_currencyText").text(t+" "+n),d()(".js-headerCurrency .siteHeader_currencyContain").removeClass("active"),L({type:"currency"})}).on("change",".js-countrySelect",function(){L({type:"country"})}),d()(".js-relocate").on("mouseenter",function(e){var t=d()(e.currentTarget),n=t.find(".siteHeader_contain");t.offset().left+n.width()>d()(window).width()?(n.css("right",0),n.addClass("siteHeader_contain-triangleRight")):n.css("right","initial"),n.removeClass("siteHeader_contain-relocate")}).on("mouseleave",function(e){var t=d()(e.currentTarget).find(".siteHeader_contain");t.addClass("siteHeader_contain-relocate"),t.removeClass("siteHeader_contain-triangleRight")}),d()(".js-logout").on("click",function(e){e.preventDefault();var t=d()(e.target),n=encodeURIComponent(Object(p.f)());window.sessionStorage.removeItem(_.m),window.location.href=t.attr("href")+"?timeZone="+n});var D=void 0,N=d()(".js-googleTrans");N.on("mouseenter",function(){D||((D=document.createElement("script")).src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(D),window.googleTranslateElementInit=function(){new window.google.translate.TranslateElement({pageLanguage:"en",layout:window.google.translate.TranslateElement.InlineLayout.SIMPLE},"google_translate_element"),setTimeout(function(){N.find(".icon-loading").removeClass("icon-loading")},30)})})},"/fHS":function(e,t){},"0NHx":function(e,t,n){"use strict";n("5JVU"),n("WWSc"),n("oD8f");var r=n("bSQD"),i=(n.n(r),n("kkyZ")),o=n("bkHr"),a=n.n(o),s=n("/Y6i"),c=n("9lGJ"),u=n("DDec"),l=n("AYGM"),d=n("WLlz"),f=window.GLOBAL.PIPELINE,h=i.a.get(d.e);window.GLOBAL.FE_PIPELINE_IS_CHANGE=void 0!==h&&h!==f,i.a.set(d.d,GLOBAL.LANG),i.a.set(d.e,GLOBAL.PIPELINE),new c.a,a.a.publish("sysAsyncPrice"),Object(s.a)(),l.a.bindEvent(),a.a.publish("sysInitLazyload"),new MutationObserver(Object(u.n)(function(){a.a.publish("sysUpdateLazyload")},300)).observe(document.body,{childList:!0,subtree:!0})},"17tJ":function(e,t){},"56xO":function(e,t,n){var r=n("s7Iq");e.exports=function(e){"use strict";var t="",n=(e=e||{}).tempType,i=e.searchable,o=r.$each,a=e.options,s=(e.$value,e.$index,r.$escape);return"basic"===n?t+='\r\n<div class="select_model">\r\n\t<div class="select_inner">\r\n\t\t<div class="select_toggle dropdown_toggle">\r\n\t\t\t<span class="select_title"></span>\r\n\t\t\t<i class="select_arrow"></i>\r\n\t\t</div>\r\n\t\t<div class="select_menu dropdown_menu">\r\n\t\t\t\x3c!-- select_option --\x3e\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n':"menu"===n&&(t+="\r\n",i&&(t+='\r\n<div class="select_search">\r\n\t<input class="select_input" type="text">\r\n\t<a class="select_searchBtn" href="javascript:;"><i class="icon-search"></i></a>\r\n</div>\r\n'),t+='\r\n<div class="select_scrollWrap siteScroll">\r\n\t<div class="select_scrollInner">\r\n\t\t',o(a,function(e,n){t+='\r\n\t\t<div class="select_option ',t+=s(e.selected),t+=" ",t+=s(e.disabled),t+='" data-value="',t+=s(e.value),t+='" data-text="',t+=s(e.text.toLowerCase().trim()),t+='">',t+=s(e.text),t+="</div>\r\n\t\t"}),t+="\r\n\t</div>\r\n</div>\r\n"),t+="\r\n"}},"6Qw4":function(e,t){},"8kro":function(e,t,n){"use strict";n("0NHx");var r=n("Gq/d"),i=(n.n(r),n("GvPl")),o=n.n(i),a=n("0zUF"),s=(n.n(a),n("bkHr")),c=n.n(s),u=n("Eviy"),l=n("A7Kv"),d=(n.n(l),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});({shareTopBtn:o()(".js-asideTop"),shareAsideBox:o()(".js-shareAsideBox"),shareTitle:o()('meta[name="shareTxt"]').attr("content"),shareText:o()('meta[name="twitter:description"]').attr("content"),init:function(){this.setShareControl(),this.setScrollTopControl(),this.setShareAsideControl()},setShareControl:function(){var e=new u.a;e.facebook({appId:900125666754558,selector:".js-btnShareFacebook",url:window.location.href}),e.twitter({desc:this.shareText,url:window.location.href,selector:".js-btnShareTwitter"}),e.google({title:this.shareTitle,selector:".js-btnShareGoogle",url:window.location.href})},setScrollTopControl:function(){this.shareTopBtn.on("click",function(){return o()("html,body").animate({scrollTop:0},1e3),!1})},setShareAsideControl:function(){var e=this;"undefined"!==d(e.shareAsideBox)&&!1!==e.shareAsideBox&&c.a.subscribe("nativeScroll",function(){o()(window).scrollTop()>300?e.shareAsideBox.addClass("on"):e.shareAsideBox.removeClass("on")})}}).init()},"8xER":function(e,t,n){"use strict";var r=n("GvPl"),i=n.n(r),o=n("wJVA"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var c={},u=1,l={timeout:1e4,dataType:"jsonp"};function d(e){return e.type=e.method,delete e.method,Object(o.c)(e),new Promise(function(t,n){c[e.cancelToken]=i.a.ajax(s({},l,{url:e.url,data:e.params,jsonpCallback:e.jsonpCallback,cache:e.cache||!0,success:function(n){Object(o.b)(e),Object(o.a)({data:n,config:e}),t(n)},error:function(t,r,i){Object(o.b)(e),n(i)},complete:function(){delete c[e.cancelToken]}}))})}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.token=u,u+=1}return a(e,[{key:"cancel",value:function(){var e=c[this.token];return e?e.abort():0}}]),e}();d.CancelToken={source:function(){return new f}},t.a=d},"9lGJ":function(e,t,n){"use strict";var r=n("kkyZ"),i=n("DDec"),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.path=t,this.getParams()}return a(e,[{key:"getParams",value:function(){this.query=Object(i.g)(this.path);var t=this.query.vip,n=this.query,o=n.cid,a=n.refid,s=n.utm_source,c=n.utm_campaign,u=n.utm_medium,l=this.query,d=l.utm_term,f=l.actionpay,h=l.sascid,p=l.admitad_uid,g=l.zanpid,m=l.awc,v=l.tduid,y=l.click_id,b=l.offer_type,w=l.pl_type,_=l.af_id,k=l.pl_id,x=l.lmdsid;t=t||this.query.lkid;var C=o?{cid:o}:a?{refid:a}:"";if(e.setCookie("reffer_channel",document.reffer),e.setCookie("landingUrl",window.location.href),t)e.setCookie("linkid",t),C&&(C=JSON.stringify(C)),e.setCookie("postbackid",C),r.a.get("utm_source")&&e.setCookie("utm_source","xxxxxx"),r.a.get("utm_campaign")&&e.setCookie("utm_campaign","xxxxxx"),r.a.get("utm_medium")&&e.setCookie("utm_medium","xxxxxx"),e.send({url:encodeURIComponent(window.location.href),web_id:e.SITE,timestamp:(new Date).getTime(),reffer:encodeURIComponent(document.referrer),lkid:t});else if(s||c||u){e.setCookie("linkid"),e.setCookie("postbackid"),s?"admitad"===s?e.setCookie("utm_source","admitad_uid"):e.setCookie("utm_source",s):e.setCookie("utm_source"),c?e.setCookie("utm_campaign",c):e.setCookie("utm_campaign"),u?e.setCookie("utm_medium",u):e.setCookie("utm_medium"),"lomadee"===s&&e.setCookie("utm_campaign",x);var S={utm_term:d,actionpay:f,sascid:h,admitad_uid:p,zanpid:g,awc:m,ftduid:v,click_id:y,offer_type:b,pl_type:w,af_id:_,pl_id:k};for(var O in S)S[O]&&e.setCookie(O,S[O])}}}],[{key:"setCookie",value:function(e,t){if(t){var n=String(t).length>50?String(t).substr(0,50):String(t);r.a.set(e,n,{domain:window.GLOBAL.DOMAIN_COOKIE,expires:30})}else r.a.remove(e,{domain:window.GLOBAL.DOMAIN_COOKIE})}},{key:"send",value:function(e){var t=[];Object.entries(e).forEach(function(e){var n=o(e,2),r=n[0],i=n[1];t.push(r+"="+i)}),new Image(1,1).src=GLOBAL.AFF_URL+"/logsss/1.gif?"+t.join("&")}}]),e}();s.ACTION="setThirdpartyCookie",s.SITE="gearbest",t.a=s},A7Kv:function(e,t){},AYGM:function(e,t,n){"use strict";var r=n("GvPl"),i=n.n(r),o=n("CDtz"),a=n("uOQx"),s=n.n(a),c=n("kGVW"),u=n("/Y6i"),l=n("s7Iq"),d=n.n(l),f=n("bkHr"),h=n.n(f),p=(n("sp6O"),n("0NHx"),n("Gq/d")),g=(n.n(p),n("X0Pb")),m=(n.n(g),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function y(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var b=(window.GLOBAL||{}).SUPPORT_URL;d.a.trans=u.b;var w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return v(e,null,[{key:"bindEvent",value:function(){i()("body").on("click",".js_reportText",function(){e.feedbackShow()}),i()("body").on("click",".js_fileAdd",function(){var e='\n                <div class="reportShow_upload">\n                    <span class="reportShow_selectFile reportShow_float reportShow_border-radius">'+Object(u.b)("base.select_file")+'\n                        <input type="file" value="'+Object(u.b)("base.select_file")+'" class="reportShow_selectFileInput reportShow_float reportShow_border-radius"/>\n                    </span>\n                    <input type="text" class="reportShow_showText reportShow_float reportShow_border-radius"\n                        readonly="readonly" placeholder="'+Object(u.b)("base.no_file")+'" />\n                    <span class="reportShow_addFile js_fileReduce reportShow_float reportShow_border-radius"><i class="icon-reduce"></i></span>\n                </div>',t=i()(".reportShow_upload").length;t<=2&&i()(".reportShow_fileRight").append(e),t>=2&&i()(".js_fileAdd").hide()}),i()("body").on("click",".js_fileReduce",function(){i()(this).parent().remove(),i()(".reportShow_upload").length<=2&&i()(".js_fileAdd").show()})}},{key:"feedbackShow",value:function(){var t=y(regeneratorRuntime.mark(function t(){var r,a,s,c,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=window.TrackData.common.pageType,a=void 0,"goods"===r){t.next=9;break}return t.next=5,n.e(57).then(n.bind(null,"qno1"));case 5:s=t.sent,a=s({SUPPORT_URL:b}),t.next=15;break;case 9:return t.next=11,n.e(56).then(n.bind(null,"FOjt"));case 11:c=t.sent,u=JSON.parse(window.sessionStorage.getItem("gb_goodsInfo")),a=c(m({SUPPORT_URL:b},u)),e.Sku=u.goodsSn;case 15:o.default.open({type:1,content:a,area:["660px","auto"],closeBtn:1,skin:"feedback",end:function(){e.Files=[]},success:function(t){var n=i()(t[0]).find("form").get(0);e.validate(n),h.a.publish("sysUpdateCurrency",{context:t[0]})}}),e.judge();case 17:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"judge",value:function(){i()(".reportShow_fileRight").on("change",'input[type="file"]',function(){var e=i()(this),t=e.val().split("\\"),n=t[t.length-1];e.parents(".reportShow_upload").find(".reportShow_showText").val(n)})}},{key:"upload",value:function(t){var n=[],r=document.querySelectorAll(".reportShow_selectFileInput");if([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(r)).forEach(function(e){if(e.files.length){var t=new s.a.File(new s.a.Lib.File(s.a.guid("rt_"),e.files[0]));n.push(t)}}),n.length){var i=new s.a.Uploader({extensions:"gif,jpg,jpeg,bmp,png",mimeTypes:"image/*",fileVal:"files",formData:{site:"gearbest"},server:window.GLOBAL.DOMAIN_UPLOAD+"/review/upload"});i.on("uploadSuccess",function(n,r){e.Files.push(r.file),0===i.getStats().progressNum&&e.submitForm(t)}),i.addFiles(n),i.upload()}else e.submitForm(t)}},{key:"submitForm",value:function(){var t=y(regeneratorRuntime.mark(function t(n){var r,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new FormData(n),"goods"===(i=window.TrackData?window.TrackData.common.pageType:"")&&r.append("sku",e.Sku||""),r.append("platform",1),r.append("pipeline",window.GLOBAL.PIPELINE),r.append("lang",window.GLOBAL.LANG),r.append("source_url",window.location.href),r.append("source_type",i),e.Files.length&&r.append("file",e.Files.join(",")),t.next=11,c.i.http({data:r});case 11:(a=t.sent).msg&&o.default.msg(a.msg,function(){0===a.status&&o.default.closeAll("page")});case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"validate",value:function(t){var n=i()(t);n.validate({rules:{email:{required:!0,email:!0},content:{required:!0}}}),n.on("submit",function(t){(t.preventDefault(),n.valid())&&(n.find("button").addClass("loading"),e.upload(n[0]))})}}]),e}();w.Files=[],w.Sku="",t.a=w},"Ad+/":function(e,t,n){"use strict";n("uKRE");var r=n("GvPl"),i=n.n(r),o=n("56xO"),a=n.n(o),s=n("rVur"),c=(n.n(s),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e});var u={};window.SELECTCACHE=u;var l={init:function(e,t){var n=e;n.hide();var r=i()(a()({tempType:"basic"}));n.before(r),n.model=r;var o="SELECT"+Math.floor(1e7*Math.random());n.KEY=o,n.data("key",o),u[o]=n;var s=r.children(".select_inner");return n.dropdown=s,s.dropdown({onOpen:function(){n.config.searchable&&(r.find(".select_input").val(""),r.find(".select_option").show())}}),r.on("click",".select_option",function(){var e=i()(this);if(e.hasClass("disabled"))return!1;var t=r.find(".select_title"),o=e.index();n.find("option").eq(o).prop("selected",!0),r.curOption||(r.curOption=r.find(".select_option.selected")),r.curOption.removeClass("selected"),r.curOption=e.addClass("selected"),t.text(e.text()),s.dropdown("close"),n.trigger("change")}),r.on("input",".select_input",function(e,t,n){var r=this,i=void 0,o=void 0,a=void 0,s=void 0,c=void 0;function u(){var r=new Date-s;r<t&&r>=0?i=setTimeout(u,t-r):(i=null,n||(c=e.apply(a,o),a=o=null))}return function(){for(var l=arguments.length,d=Array(l),f=0;f<l;f++)d[f]=arguments[f];a=r,o=d,s=new Date;var h=n&&!i;return i||(i=setTimeout(u,t)),h&&(c=e.apply(a,o),a=o=null),c}}(function(e){var t=i()(e.target).val().toLowerCase();r.find(".select_option").each(function(e,n){var r=i()(n);r.is("[data-text^="+t+"]")?r.show():r.hide()})},100)),n.on("DOMNodeRemovedFromDocument",function(){n.Select("clean")}),n.Select=function(e){return"string"!=typeof e[0]?n:"getValue"===e[0]?n.val():"getText"===e[0]?n.find("option").eq(n[0].selectedIndex).text():("update"===e[0]?l.update(n,t):"disable"===e[0]?l.setDisable(n):"enable"===e[0]?l.setEnable(n):"clean"===e[0]?(delete u[n.KEY],s.dropdown("clean")):"setValue"===e[0]&&void 0!==e[1]&&(n.val(e[1]),l.update(n,t)),n)},l.update(n,t),n.Select(t)},setDisable:function(e){e.prop("disabled",!0),e.dropdown.dropdown("disable")},setEnable:function(e){e.prop("disabled",!1),e.dropdown.dropdown("enable")},update:function(e,t){var n=e,r=n.model,o=n.find("option");n.config=n.config||{skin:"",maxHeight:300,searchable:!1};var s=n.config;"object"===c(t[0])&&Object.assign(s,t[0]);var u=[];o.each(function(e,t){var n=i()(t);u.push({value:n.attr("value"),text:n.text(),selected:n.is(":selected")?"selected":"",disabled:n.is(":disabled")?"disabled":""})}),r.find(".select_menu").html(a()({tempType:"menu",searchable:s.searchable,options:u})),r.find(".select_scrollWrap").css("max-height",s.maxHeight),r.find(".select_title").html(o.filter(":selected").text());var l=n.data("skin");return l&&r.addClass(l),s.skin&&r.addClass(s.skin),r.curOption=null,n}};i.a.fn.select=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===this.length)return this;if(this.length>1)return this.each(function(){var e;(e=i()(this)).select.apply(e,t)}),this;var r=this.KEY||this.data("key");return r in u?"object"===c(t[0])?l.update(u[r],t):"string"==typeof t[0]?u[r].Select(t):this:l.init(this,t)}},BFMY:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return y}),n.d(t,"d",function(){return b}),n.d(t,"f",function(){return w}),n.d(t,"c",function(){return _}),n.d(t,"h",function(){return k}),n.d(t,"g",function(){return x}),n.d(t,"e",function(){return C});var r=n("DDec"),i=n("kGVW"),o=n("Snxb"),a=n("WLlz"),s=n("kkyZ"),c=n("vqpe"),u=(n.n(c),n("tn5d")),l=(n.n(u),n("hVdd")),d=(n.n(l),n("0zUF")),f=(n.n(d),n("CDtz")),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function g(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=function(){function e(t){var n=t.contain,r=t.showStatus,i=void 0===r||r,o=t.prefix,a=void 0===o?["Begins:","Ends:"]:o,s=t.brief,c=void 0!==s&&s,u=t.template,l=void 0===u?"{day}:{hour}:{minute}:{second}":u,d=t.callback,f=void 0===d?function(){}:d;m(this,e),this.time=Number.parseInt(n.dataset.time,10),this.prefix=0===Number.parseInt(n.dataset.status,10)?a[0]:a[1],this.contain=n,this.showStatus=i,this.day=0,this.hour=0,this.minute=0,this.second=0,this.handler=null,this.brief=c,this.template=l,this.callback=f,this.timing()}return p(e,[{key:"timing",value:function(){var e=this;this.handler=setTimeout(function(){return e.time<=0?(clearTimeout(e.handler),e.callback(e.contain),!1):(e.time-=1,e.day=Math.floor(e.time/60/60/24),e.hour=Math.floor(e.time/60/60%24),e.minute=Math.floor(e.time/60%60),e.second=Math.floor(e.time%60),e.render(),e.timing(),!1)},1e3)}},{key:"render",value:function(){var t=this.template.replace(/\{day\}/g,e.transform(this.day)).replace(/\{hour\}/g,e.transform(this.hour)).replace(/\{minute\}/g,e.transform(this.minute)).replace(/\{second\}/g,e.transform(this.second));this.brief&&this.time>86400?this.contain.innerHTML="Over "+e.transform(this.day)+" D "+e.transform(this.hour)+" H":this.contain.innerHTML=this.showStatus?this.prefix+" "+t:t}}],[{key:"transform",value:function(e){return e.toString().length<2?"0"+e:e}}]),e}(),y=function(){function e(){m(this,e)}return p(e,null,[{key:"type",value:function(e){return Object.prototype.toString.call(e)}},{key:"currencyCode",value:function(){return s.a.get(a.c)||"USD"}},{key:"locate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.currencyCode(),n=null;return e.rateData.some(function(e){return e.currencyCode===t&&(n=e),e.currencyCode===t}),n}},{key:"transform",value:function(t){var n=t.price,i=t.qty,o=void 0===i?1:i,a=t.fun,s=t.floor,c=void 0!==s&&s;if(!e.rateData)return!1;var u=void 0,l=e.locate().exponent;return u=a?a(u=Object(r.i)(Object(r.h)(n,e.locate().currencyRate),l,c),l,o):Object(r.h)(Object(r.b)(Object(r.h)(n,e.locate().currencyRate),l),o),Number(u).toFixed(l)}},{key:"transformSymbol",value:function(t){var n=t.price,r=t.qty,i=void 0===r?1:r,o=t.fun,a=t.floor;if(!e.rateData)return!1;var s=e.locate(),c=e.transform({price:n,qty:i,fun:o,floor:a});return 0===s.currencyPosition?s.currencySign+c:c+s.currencySign}},{key:"transformHtml",value:function(t){e.render({context:t})}},{key:"getSymbol",value:function(){return!!e.rateData&&e.locate().currencySign}},{key:"getSymbolPosition",value:function(){return!!e.rateData&&e.locate().currencyPosition}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.context,r=void 0===n?document:n,i=t.selector,o=void 0===i?".js-currency":i,a=t.currency,s=t.list,c=void 0===s?[]:s,u=t.floor;if(!e.rateData||!e.locate(a.currencyCode))return!1;var l=[];return l=c&&c.length?c:r.querySelectorAll(o),[].concat(g(l)).forEach(function(t){var n=t,r=+(t.dataset.currency||0),i=t.dataset.currencyQty||1,o=t.dataset.currencyPrefix||"";n.innerHTML=o+e.transformSymbol({price:r,qty:i,floor:u})}),!1}},{key:"addSymbol",value:function(t){if(!e.rateData)return t;var n=e.getSymbol();return e.getSymbolPosition()<1?[n,t].join(""):[t,n].join("")}},{key:"getCountryList",value:function(){if(void 0===e.countryList){e.countryList={};try{[].concat(g(document.querySelector(".js-countrySelect").options)).forEach(function(t){t.value&&(e.countryList[t.value]=t.text)})}catch(e){}}return e.countryList}},{key:"fixCurrencyData",value:function(t){var n=void 0;return e.cacheCurrency[t.currencyCode]?n=e.cacheCurrency[t.currencyCode]:EXCHANGERATE.some(function(r){return r.currencyCode===t.currencyCode&&(n={currencyCode:r.currencyCode,currencySign:r.currencySign,currencyName:r.currencyName},e.cacheCurrency[t.currencyCode]=n,!0)}),n&&(n.countryCode=t.countryCode,n.countryName=e.getCountryList()[t.countryCode]),n=n||t}},{key:"getCurrencyCountry",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(){var n,r,i,o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.a.get(),(r={currencyCode:e.queryCurrency||n[a.c],countryCode:n[a.b]||n[a.a]||"US"}).currencyCode&&n[a.b]){t.next=20;break}return t.prev=3,t.next=6,e.getCurrencyInfo({params:{pipeline:n[a.e],country:r.countryCode}});case 6:if(i=t.sent,o=i.status,c=i.data,0!==o){t.next=14;break}n[a.b]||e.setStorageCountry({countryCode:c.country}),r={currencyCode:c.currency||r.currencyCode,countryCode:c.country||r.countryCode},t.next=15;break;case 14:throw new Error("Get currency fail");case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(3),r={currencyCode:"USD",countryCode:"US"};case 20:return t.abrupt("return",e.fixCurrencyData(r));case 21:case"end":return t.stop()}},t,this,[[3,17]])}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})});return function(){return n.apply(this,arguments)}}()},{key:"updateCurrency",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.currency,r=t.context,i=void 0===r?document:r;e.queryCurrency=null,s.a.set(a.c,n.currencyCode),e.render({currency:n,context:i})}},{key:"setStorageCountry",value:function(e){var t=e.countryCode;e.countryName;t&&s.a.set(a.b,t)}}]),e}();y.rateData=window.EXCHANGERATE,y.getCurrencyInfo=Object(r.k)(function(e){return i.h.http(e)}),y.cacheCurrency={},y.queryCurrency=Object(r.g)().currency;var b=function(){function e(){m(this,e)}return p(e,null,[{key:"get",value:function(){return JSON.parse(window.localStorage.getItem(a.o)||"[]")}},{key:"set",value:function(t){var n=e.filter(t),r=e.get(),i=r.length;if(i>0){var o=r[0];t.toLowerCase()!==o.toLowerCase()&&(5===i&&r.pop(),r.unshift(n))}else r.unshift(n);window.localStorage.setItem(a.o,JSON.stringify(r))}},{key:"remove",value:function(t){var n=e.get(),r=n.indexOf(t);return n.splice(r,1),window.localStorage.setItem(a.o,JSON.stringify(n)),n.length}},{key:"removeAll",value:function(){window.localStorage.removeItem(a.o)}},{key:"filter",value:function(e){return e.replace(/<[^>]+>/g,"")}}]),e}();function w(e){var t=e.container,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["container"]),r={lazyLoad:$(t).children().length>2?"ondemand":"progressive",draggable:!1};return $(t).slick(h({},r,n)).on("lazyLoaded",function(e,t,n,r){var i,a;i=t.$slideTrack[0].childNodes,a=r,[].concat(g(i)).forEach(function(e){var t=e.querySelectorAll("img");t.length&&[].concat(g(t)).forEach(function(e){!e||e.src!==a&&e.dataset.lazy!==a||Object(o.c)(e)})})}).on("lazyLoadError",function(e,t,n,r){t.$slider.find('[data-lazy="'+r+'"], .slick-lazyload-error').each(function(e,t){Object(o.b)(t)})})}var _=function(){function e(){m(this,e)}return p(e,null,[{key:"get",value:function(){return JSON.parse(window.localStorage.getItem(a.l)||"[]")}},{key:"set",value:function(t){var n=0,r=e.get();r.some(function(e,r){return n=r,t.sku===e.sku})&&r.splice(n,1),r.unshift(t),r.length>10&&(r.length=10),window.localStorage.setItem(a.l,JSON.stringify(r))}},{key:"remove",value:function(){window.localStorage.removeItem(a.l)}}]),e}();function k(e,t){var n=e.trim().split(",");n=n.length>1?parseInt(Math.random()*n.length,10):n[0];var r=t||{};return!0===r.inline&&r.ele&&r.ele.length?r.ele.html('\n            <iframe src="https://www.youtube.com/embed/'+n+'?autoplay=1" frameborder="0" width="854" height="480"></iframe>\n        '):f.default.open({content:'\n                <iframe src="https://www.youtube.com/embed/'+n+'?autoplay=0" frameborder="0" width="100%" height="440"></iframe>',area:"894px",closeBtn:!0,btn:!1}),{}}function x(e){return""+(window.GLOBAL&&window.GLOBAL.DOMAIN_STATIC?window.GLOBAL.DOMAIN_STATIC:"")+e}var C={currencyChange:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null;if(Array.isArray(t[1]))r=[],t[1].forEach(function(e){var t,n=void 0;n=void 0!==e.price?e.price:e,t=y.transformSymbol({price:n}),r.push(t)});else{var i=y.transformSymbol({price:t[1]});r=i}return r},one:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?y.transformSymbol({price:e,floor:t,fun:function(e){return e}}):y.transform({price:e,floor:t,fun:function(e){return e}})},sum:function(){var e=arguments.length<=0?void 0:arguments[0],t=e.prices,n=void 0===t?[]:t,i=e.discounts,o=void 0===i?[]:i,a=e.ladderPrices,s=void 0===a?[]:a,c=e.Symbol,u=void 0===c||c;e.orig;var l=y.locate().exponent,d=0,f=0,h=0,p=l||1;return p=Math.pow(10,p),s.length>0?(s.forEach(function(e){var t=Object(r.a)(Object(r.h)(e.price,e.qty),-e.activityDeductAmount);h+=C.one.call(null,t,!1,!1)*p}),h=Math.abs(h/p).toFixed(l)):(n.length>0&&n.forEach(function(e){d+=C.one.call(null,e.price,!1,!1)*p*(e.Qty||e.qty||1)}),o.length>0&&o.forEach(function(e){f+=C.one.call(null,e,!0,!1)*p}),h=Math.abs((d-f)/p).toFixed(l)),u?y.addSymbol(h):h}}},Bz9H:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var r=n("IBxr"),i=GLOBAL.DOMAIN_MAIN,o=new r.a({method:"jsonp",url:i+"/activity/deals/add-likes",errorPop:!1,loading:!0}),a=new r.a({method:"jsonp",url:i+"/activity/deals/delete-likes",errorPop:!1,loading:!0}),s=new r.a({method:"jsonp",url:i+"/activity/deals/get-user-likes-lists",errorPop:!1,loading:!0}),c=new r.a({method:"jsonp",url:i+"/explore/explore-data",errorPop:!1,loading:!0}),u=new r.a({method:"jsonp",url:i+"/zone-deals-list",errorPop:!1,loading:!0}),l=(new r.a({method:"POST",url:"/activity/special/share-point"}),new r.a({method:"jsonp",url:i+"/top-brands/brand/ajax-hot-sale"})),d=new r.a({method:"jsonp",url:i+"/activity/compose-good/cart-activity-info"})},CVY8:function(e,t){},DDec:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number(Number(e).toFixed(t))}function i(e){return Number(String(e).replace(".",""))}function o(){for(var e=[],t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(function(t){var n=String(t),r=n.split(".")[1]?n.split(".")[1].length:0;e.push(r)});var o=e.reduce(function(e,t){return e+t}),a=Math.pow(10,o);return n.reduce(function(e,t){return i(e)*i(t)})/a}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=String(e),i=Math.pow(10,t),o=r.split(".");if(+o[1]>0){var a=(r=o[1].length>t?o[0]+"."+o[1].slice(0,t+1):e.toFixed(t+1)).slice(0,-1).replace(".",""),s=+o[1].slice(t)>0?1:0;e=n?+a/i:(+a+s)/i}return e.toFixed(t)}function s(e,t){var n=[e,t],r=[];n.forEach(function(e){var t=String(e),n=t.split(".")[1]?t.split(".")[1].length:0;r.push(n)});var i=Math.pow(10,Math.max.apply(null,r)),a=n.map(function(e){return o(e,i)});return a[0]/a[1]}function c(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return 0;var r=t;if(1===t.length)if(Array.isArray(t[0])){if(!(t[0].length>1))return 1===t[0].length?t[0][0]:0;r=t[0]}else{if(!(t[0].length>1))return t[0];r=t[0]}var i=[];r.forEach(function(e){var t=String(e),n=t.split(".")[1]?t.split(".")[1].length:0;i.push(n)});var a=Math.pow(10,Math.max.apply(null,i));return r.reduce(function(e,t,n){return 1===n?o(e,a)+o(t,a):e+o(t,a)})/a}function u(e,t,n){var r=this,i=void 0,o=void 0,a=void 0,s=void 0,c=void 0;function u(){var r=new Date-s;r<t&&r>=0?i=setTimeout(u,t-r):(i=null,n||(c=e.apply(a,o),a=o=null))}return function(){for(var l=arguments.length,d=Array(l),f=0;f<l;f++)d[f]=arguments[f];a=r,o=d,s=new Date;var h=n&&!i;return i||(i=setTimeout(u,t)),h&&(c=e.apply(a,o),a=o=null),c}}function l(e,t,n){var r=this,i=void 0,o=void 0,a=void 0,s=null,c=0,u=Object.assign({},n),l=function(){c=!1===u.leading?0:Date.now(),s=null,a=e.apply(i,o),s||(i=null,o=null)};return function(){for(var n=arguments.length,d=Array(n),f=0;f<n;f++)d[f]=arguments[f];var h=Date.now();c||!1!==u.leading||(c=h);var p=t-(h-c);return i=r,o=d,p<=0||p>t?(s&&(clearTimeout(s),s=null),c=h,a=e.apply(i,o),s||(i=null,o=null)):s||!1===u.trailing||(s=setTimeout(l,p)),a}}function d(e,t){var n=e instanceof Date?e:new Date(1e3*e);d.format||(d.format="yyyy-MM-dd hh:mm:ss");var r="string"==typeof t?t:d.format;d.months||(d.months=["January","February","March","April","May","June","July","August","September","October","November","December"]);var i={y:n.getFullYear(),M:n.getMonth()+1,d:n.getDate(),h:n.getHours(),m:n.getMinutes(),s:n.getSeconds(),T:n.getHours()<13?"AM":"PM"};return r=r.replace(/(([yMdhmsT])(\2)*)/g,function(e,t,n){var r=i[n];return"y"===n?(""+r).substr(4-t.length):"M"===n&&t.length>2?3===t.length?d.months[r-1].substr(0,3):d.months[r-1]:t.length>1?("0"+r).substr(-2):r})}function f(e){var t={};return e.serializeArray().forEach(function(e){t[e.name]=e.value}),t}function h(e,t){var n=document.createElement("form");n.method="post",n.action=e,void 0!==t&&Object.entries(t).forEach(function(e){var t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name",e[0]),t.setAttribute("value",e[1]),n.appendChild(t)}),document.querySelector("body").appendChild(n),n.submit()}function p(e,t){var n=window.location;if(void 0===e||void 0===t)return n.href;if(/[?&=]/.test(""+e+t))return n.href;var r=n.search,i=new RegExp("[\\?&]"+e+"=[^&]*","gi"),o=r.match(i);if(o&&o.length)o.forEach(function(n){r=r.replace(n.replace(/[?&]/,""),e+"="+t)});else{var a=/\?/.test(r)?"&":"?";r+=""+a+e+"="+t}return""+n.origin+n.pathname+r+n.hash}function g(){var e=(new Date).getTimezoneOffset()/60*-1;return e<0?String(e):"+"+e}function m(e){var t=String(void 0===e?window.location.href:e).replace(/#.*$/,""),n={};return t.substring(t.lastIndexOf("?")+1).replace(/([^?&=]+)=([^?&=]*)/g,function(e,t,r){var i=decodeURIComponent(t),o=String(decodeURIComponent(r));return n[i]=o,e}),n}function v(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).useCache,r=void 0===n||n,i=[],o=0,a="pending",s=void 0;return function(n){return o+=1,new Promise((c=regeneratorRuntime.mark(function c(u,l){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==o&&r){t.next=17;break}return t.prev=1,t.next=4,e(n);case 4:s=t.sent,setTimeout(function(){i.forEach(function(e){return e(0,s)}),i=[]}),a="fulfilled",u(s),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),setTimeout(function(){i.forEach(function(e){return e(1)}),i=[]}),a="rejected",l();case 15:t.next=21;break;case 17:if("pending"===a){t.next=20;break}return"fulfilled"===a?u(s):l(),t.abrupt("return");case 20:i.push(function(e,t){0===e?u(t):l()});case 21:case"end":return t.stop()}},c,t,[[1,10]])}),u=function(){var e=c.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})},function(e,t){return u.apply(this,arguments)}));var c,u}}n.d(t,"i",function(){return a}),n.d(t,"h",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return u}),n.d(t,"n",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"m",function(){return f}),n.d(t,"j",function(){return h}),n.d(t,"l",function(){return p}),n.d(t,"f",function(){return g}),n.d(t,"g",function(){return m}),n.d(t,"k",function(){return v})},Dzw5:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,i,o=n("bkHr"),a=n.n(o),s=n("BFMY"),c=(r=regeneratorRuntime.mark(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.currency,r=t.context,i=void 0===r?document:r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return e.next=3,s.b.getCurrencyCountry();case 3:n=e.sent;case 4:s.b.updateCurrency({currency:{currencyCode:n.currencyCode,currencyName:n.currencyName,currencySign:n.currencySign},context:i}),a.a.publish("sysUpdateCurrencySuccess",n);case 6:case"end":return e.stop()}},e,this)}),i=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})},function(){return i.apply(this,arguments)})},EGwU:function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return e&&"object"===(void 0===e?"undefined":n(e))&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},Et8C:function(e,t,n){"use strict";(function(t){var r=n("ibTi"),i=Object.create(r?t:window),o=/["&'<>]/;i.$escape=function(e){return function(e){var t=""+e,n=o.exec(t);if(!n)return e;var r="",i=void 0,a=void 0,s=void 0;for(i=n.index,a=0;i<t.length;i++){switch(t.charCodeAt(i)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}a!==i&&(r+=t.substring(a,i)),a=i+1,r+=s}return a!==i?r+t.substring(a,i):r}(function e(t){"string"!=typeof t&&(t=void 0===t||null===t?"":"function"==typeof t?e(t.call(t)):JSON.stringify(t));return t}(e))},i.$each=function(e,t){if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t(e[n],n);else for(var i in e)t(e[i],i)},e.exports=i}).call(t,n("GTd5"))},Eviy:function(e,t,n){"use strict";var r=n("GvPl"),i=n.n(r),o=n("kGVW"),a=n("/fHS"),s=(n.n(a),function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}function d(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var f=(window.GLOBAL||{}).DOMAIN_LOGIN,h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return u(e,[{key:"shareFunc",value:function(){}},{key:"facebook",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.selector,a=n.url,s=void 0===a?window.location.href:a,u=n.platform,f=void 0===u?"pc":u,h=n.appId,p=n.isLogin,g=void 0!==p&&p,m=n.version,v=void 0===m?"v2.7":m,y=n.onClick,b=void 0===y?function(){}:y,w=n.onSuccess,_=void 0===w?function(){}:w,k=d(n,["selector","url","platform","appId","isLogin","version","onClick","onSuccess"]),x=document.getElementsByTagName("script")[0];if(!document.getElementById("facebook-jssdk")){var C=document.createElement("script");C.id="facebook-jssdk",C.src="https://connect.facebook.net/en_US/sdk.js",x.parentNode.insertBefore(C,x),window.fbAsyncInit=function(){FB.init({appId:h,status:!0,cookie:!0,oauth:!0,xfbml:!0,version:v}),i()(document).on("click",r,l(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(b(),!g){n.next=9;break}return n.next=4,o.t.http({errorPop:!1});case 4:if(i=n.sent,i.data.isLogin){n.next=9;break}return window.location.href=e.loginUrl,n.abrupt("return");case 9:FB.ui(c({method:"share",href:s,mobile_iframe:"mobile"===f},k),function(e){_(e),t.shareFunc(r)});case 10:case"end":return n.stop()}},n,t)})))}}}},{key:"twitter",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.selector,a=n.url,s=void 0===a?window.location.href:a,c=n.desc,u=void 0===c?"":c,d=n.isLogin,f=void 0!==d&&d,h=n.onClick,p=void 0===h?function(){}:h,g=n.onClose,m=void 0===g?function(){}:g,v=void 0,y=e.positon(540,650),b=y.left,w=y.top,_=e.encode({url:s,desc:u}),k=_.url,x=_.desc;i()(document).on("click",r,l(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!v){n.next=2;break}return n.abrupt("return");case 2:if(p(),!f){n.next=11;break}return n.next=6,o.t.http({errorPop:!1});case 6:if(i=n.sent,i.data.isLogin){n.next=11;break}return window.location.href=e.loginUrl,n.abrupt("return");case 11:v=window.open("https://twitter.com/intent/tweet?url="+k+"&text="+x,"_blank","location=yes,left="+b+",top="+w+",height=540,width=650,scrollbars=yes,status=yes"),e.detectWindow(v).then(function(e){v=null,m(e),t.shareFunc(r)});case 13:case"end":return n.stop()}},n,t)})))}},{key:"vk",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.selector,a=n.url,s=void 0===a?window.location.href:a,c=n.title,u=void 0===c?"":c,d=n.img,f=void 0===d?"":d,h=n.isLogin,p=void 0!==h&&h,g=n.onClick,m=void 0===g?function(){}:g,v=n.onClose,y=void 0===v?function(){}:v,b=void 0,w=e.positon(540,650),_=w.left,k=w.top,x=e.encode({url:s,title:u,img:f}),C=x.url,S=x.title,O=x.img;i()(document).on("click",r,l(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!b){n.next=2;break}return n.abrupt("return");case 2:if(m(),!p){n.next=11;break}return n.next=6,o.t.http({errorPop:!1});case 6:if(i=n.sent,i.data.isLogin){n.next=11;break}return window.location.href=e.loginUrl,n.abrupt("return");case 11:b=window.open("http://vk.com/share.php?url="+C+"&title="+S+"&=screenshot"+O,"_blank","location=yes,left="+_+",top="+k+",height=540,width=650,scrollbars=yes,status=yes"),e.detectWindow(b).then(function(e){b=null,y(e),t.shareFunc(r)});case 13:case"end":return n.stop()}},n,t)})))}},{key:"google",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.selector,a=n.url,s=void 0===a?window.location.href:a,c=n.title,u=void 0===c?"":c,d=n.isLogin,f=void 0!==d&&d,h=n.onClick,p=void 0===h?function(){}:h,g=n.onClose,m=void 0===g?function(){}:g,v=void 0,y=e.positon(540,650),b=y.left,w=y.top,_=e.encode({url:s,title:u}),k=_.url,x=_.title;i()(document).on("click",r,l(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!v){n.next=2;break}return n.abrupt("return");case 2:if(p(),!f){n.next=11;break}return n.next=6,o.t.http({errorPop:!1});case 6:if(i=n.sent,i.data.isLogin){n.next=11;break}return window.location.href=e.loginUrl,n.abrupt("return");case 11:v=window.open("https://plus.google.com/share?url="+k+"&t="+x,"_blank","location=yes,left="+b+",top="+w+",height=540,width=650,scrollbars=yes,status=yes"),e.detectWindow(v).then(function(e){v=null,m(e),t.shareFunc(r)});case 13:case"end":return n.stop()}},n,t)})))}},{key:"reddit",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.selector,a=n.url,s=void 0===a?window.location.href:a,c=n.title,u=void 0===c?"":c,d=n.isLogin,f=void 0!==d&&d,h=n.onClick,p=void 0===h?function(){}:h,g=n.onClose,m=void 0===g?function(){}:g,v=void 0,y=e.positon(540,650),b=y.left,w=y.top,_=e.encode({url:s,title:u}),k=_.url,x=_.title;i()(document).on("click",r,l(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!v){n.next=2;break}return n.abrupt("return");case 2:if(p(),!f){n.next=11;break}return n.next=6,o.t.http({errorPop:!1});case 6:if(i=n.sent,i.data.isLogin){n.next=11;break}return window.location.href=e.loginUrl,n.abrupt("return");case 11:v=window.open("https://www.reddit.com/submit?url="+k+"&title="+x,"_blank","location=yes,left="+b+",top="+w+",height=540,width=650,scrollbars=yes,status=yes"),e.detectWindow(v).then(function(e){v=null,m(e),t.shareFunc(r)});case 13:case"end":return n.stop()}},n,t)})))}},{key:"pinterest",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.selector,a=n.isLogin,s=void 0!==a&&a,c=n.onClick,u=void 0===c?function(){}:c,d=document.getElementsByTagName("script")[0];if(!document.getElementById("pinterest-jssdk")){var f=document.createElement("script");f.id="pinterest-jssdk",f.src="//assets.pinterest.com/js/pinit.js",d.parentNode.insertBefore(f,d),f.onload=function(){i()(document).on("click",r,l(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(u(),!s){t.next=9;break}return t.next=4,o.t.http({errorPop:!1});case 4:if(r=t.sent,r.data.isLogin){t.next=9;break}return window.location.href=e.loginUrl,t.abrupt("return");case 9:PinUtils.pinAny();case 10:case"end":return t.stop()}},n,t)})))}}}}],[{key:"positon",value:function(e,t){return{left:(i()(window).width()-t)/2,top:(i()(window).height()-e)/2}}},{key:"encode",value:function(e){var t=d(e,[]),n={};return Object.entries(t).forEach(function(e){var t=s(e,2),r=t[0],i=t[1];n[r]=encodeURIComponent(i)}),n}},{key:"detectWindow",value:function(e){return new Promise(function(t){var n=setInterval(function(){e.closed&&(clearInterval(n),t({closed:!0}))},1e3)})}}]),e}();h.TYPES={facebook:1,twitter:2,vk:3,google:4,reddit:5,pinterest:6},h.loginUrl=f+"/m-users-a-sign.htm?type=1&ref="+window.location.href,t.a=h},GY2S:function(e,t){var n;(n=jQuery).fly=function(e,t){var r={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,start:{},end:{},onEnd:n.noop},i=n(e);this.init=function(e){this.setOptions(e),this.settings.autoPlay&&this.play()},this.setOptions=function(e){this.settings=n.extend(!0,{},r,e);var t=this.settings,o=t.start,a=t.end;i.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body"),null!=a.width&&null!=a.height&&n.extend(!0,o,{width:i.width(),height:i.height()});var s=Math.min(o.top,a.top)-Math.abs(o.left-a.left)/3;s<t.vertex_Rtop&&(s=Math.min(t.vertex_Rtop,Math.min(o.top,a.top)));var c=Math.sqrt(Math.pow(o.top-a.top,2)+Math.pow(o.left-a.left,2)),u=Math.ceil(Math.min(Math.max(Math.log(c)/.05-75,30),100)/t.speed),l=o.top==s?0:-Math.sqrt((a.top-s)/(o.top-s)),d=(l*o.left-a.left)/(l-1),f=a.left==d?0:(a.top-s)/Math.pow(a.left-d,2);n.extend(!0,t,{count:-1,steps:u,vertex_left:d,vertex_top:s,curvature:f})},this.play=function(){this.move()},this.move=function(){var e=this.settings,t=e.start,r=e.count,o=e.steps,a=e.end,s=t.left+(a.left-t.left)*r/o,c=0==e.curvature?t.top+(a.top-t.top)*r/o:e.curvature*Math.pow(s-e.vertex_left,2)+e.vertex_top;if(null!=a.width&&null!=a.height){var u=o/2,l=a.width-(a.width-t.width)*Math.cos(r<u?0:(r-u)/(o-u)*Math.PI/2),d=a.height-(a.height-t.height)*Math.cos(r<u?0:(r-u)/(o-u)*Math.PI/2);i.css({width:l+"px",height:d+"px","font-size":Math.min(l,d)+"px"})}i.css({left:s+"px",top:c+"px"}),e.count++;var f=window.requestAnimationFrame(n.proxy(this.move,this));r==o&&(window.cancelAnimationFrame(f),e.onEnd.apply(this))},this.destroy=function(){i.remove()},this.init(t)},n.fn.fly=function(e){return this.each(function(){void 0==n(this).data("fly")&&n(this).data("fly",new n.fly(this,e))})}},"Gq/d":function(e,t){},IBxr:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("zQ9v"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.params=Object.assign({method:"jsonp",loading:!0,isCancel:!0,errorPop:!0},t)}return o(e,[{key:"http",value:function(e){var t=Object.assign({},this.params,e);return t.isCancel&&this.cancel(),this.cancelToken=r.a.CancelToken.source(t.method),Object(r.a)(i({cancelToken:this.cancelToken.token},t))}},{key:"cancel",value:function(){this.cancelToken&&this.cancelToken.cancel()}}]),e}()},J8sk:function(e,t,n){var r=n("s7Iq");e.exports=function(e){"use strict";e=e||{};var t="",n=r.$escape,i=e.current,o=e.total,a=e.i;if(t+='<div class="gbPaging">\r\n\t<a class="gbPaging_nav ',t+=n(1===i?"disabled":""),t+='" href="javascript:;" data-goto="prev">',t+=r.trans("goods.prev"),t+="</a>\r\n\t",o<=7){t+="\r\n\t\t";for(a=1;a<=o;a++)t+='\r\n\t\t\t<a class="gbPaging_index ',t+=n(i===a?"actived":""),t+='" \r\n\t\t\t\thref="javascript:;" data-goto="',t+=n(a),t+='">',t+=n(a),t+="</a>\r\n\t\t";t+="\r\n\t"}else{if(t+="\r\n\t\t",i>4.5&&(t+='\r\n\t\t\t<a class="gbPaging_index" href="javascript:;" data-goto="1">1</a>\r\n\t\t\t<span class="gbPaging_dot">...</span>\r\n\t\t'),t+="\r\n\r\n\t\t",i<4.5){t+="\r\n\t\t\t";for(a=1;a<7;a++)t+='\r\n\t\t\t\t<a class="gbPaging_index ',t+=n(i===a?"actived":""),t+='" \r\n\t\t\t\t\thref="javascript:;" data-goto="',t+=n(a),t+='">',t+=n(a),t+="</a>\r\n\t\t\t";t+="\r\n\t\t"}else if(i>o-3.5){t+="\r\n\t\t\t";for(a=o-5;a<o+1;a++)t+='\r\n\t\t\t\t<a class="gbPaging_index ',t+=n(i===a?"actived":""),t+='" \r\n\t\t\t\t\thref="javascript:;" data-goto="',t+=n(a),t+='">',t+=n(a),t+="</a>\r\n\t\t\t";t+="\r\n\t\t"}else{t+="\r\n\t\t\t";for(a=i-2;a<i+3;a++)t+='\r\n\t\t\t\t<a class="gbPaging_index ',t+=n(i===a?"actived":""),t+='" \r\n\t\t\t\t\thref="javascript:;" data-goto="',t+=n(a),t+='">',t+=n(a),t+="</a>\r\n\t\t\t";t+="\r\n\t\t"}t+="\r\n\r\n\t\t",i<o-3.5&&(t+='\r\n\t\t\t<span class="gbPaging_dot">...</span>\r\n\t\t\t<a class="gbPaging_index" href="javascript:;" data-goto="',t+=n(o),t+='">',t+=n(o),t+="</a>\r\n\t\t"),t+="\r\n\t"}return t+='\r\n\t<a class="gbPaging_nav ',t+=n(i===o?"disabled":""),t+='" href="javascript:;" data-goto="next">',t+=r.trans("goods.next"),t+='</a>\r\n\t<span class="gbPaging_text">',t+=r.trans("goods.go_to"),t+='</span>\r\n\t<input class="gbPaging_input" type="text" placeholder="">\r\n\t<a class="gbPaging_go" href="javascript:;" data-goto="custom">',t+=r.trans("base.go"),t+="</a>\r\n</div>"}},K1la:function(e,t){},"KO+U":function(e,t,n){var r={"./messages_ar.js":["1Bkh",55],"./messages_az.js":["ztF5",54],"./messages_bg.js":["4/w9",53],"./messages_bn_BD.js":["3tBM",52],"./messages_ca.js":["Y2Mn",51],"./messages_cs.js":["BEEe",50],"./messages_da.js":["Kq9Y",49],"./messages_de.js":["ZU+j",48],"./messages_el.js":["xEVv",47],"./messages_es.js":["UhAm",46],"./messages_es_AR.js":["ssIe",45],"./messages_es_PE.js":["NHlZ",44],"./messages_et.js":["vzUc",43],"./messages_eu.js":["4vrQ",42],"./messages_fa.js":["SwKz",41],"./messages_fi.js":["0kJt",40],"./messages_fr.js":["zu/I",39],"./messages_ge.js":["gNLD",38],"./messages_gl.js":["h0PB",37],"./messages_he.js":["EYwY",36],"./messages_hr.js":["91iQ",35],"./messages_hu.js":["bYUR",34],"./messages_hy_AM.js":["6jOT",33],"./messages_id.js":["4coW",32],"./messages_is.js":["nJ2t",31],"./messages_it.js":["/EBY",30],"./messages_ja.js":["gQ8U",29],"./messages_ka.js":["Lae+",28],"./messages_kk.js":["DeR+",27],"./messages_ko.js":["GEt/",26],"./messages_lt.js":["bCtv",25],"./messages_lv.js":["Fc20",24],"./messages_mk.js":["lz3j",23],"./messages_my.js":["NfZB",22],"./messages_nl.js":["MVEn",21],"./messages_no.js":["uej1",20],"./messages_pl.js":["JC32",19],"./messages_pt_BR.js":["fEzP",18],"./messages_pt_PT.js":["cvFC",17],"./messages_ro.js":["Yk7P",16],"./messages_ru.js":["D/WA",15],"./messages_sd.js":["pc9Z",14],"./messages_si.js":["WN3L",13],"./messages_sk.js":["4JMJ",12],"./messages_sl.js":["BtAC",11],"./messages_sr.js":["iCnY",10],"./messages_sr_lat.js":["YcV0",9],"./messages_sv.js":["g/VG",8],"./messages_th.js":["AUSZ",7],"./messages_tj.js":["8gjI",6],"./messages_tr.js":["bimK",5],"./messages_uk.js":["+s+J",4],"./messages_ur.js":["ZAg9",3],"./messages_vi.js":["bpXG",2],"./messages_zh.js":["LFqY",1],"./messages_zh_TW.js":["pyS0",0]};function i(e){var t=r[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}i.keys=function(){return Object.keys(r)},i.id="KO+U",e.exports=i},MOLG:function(e,t,n){"use strict";var r=n("/Y6i"),i=n("s7Iq"),o=n.n(i),a=n("6Qw4"),s=(n.n(a),n("J8sk")),c=n.n(s);o.a.trans=r.b,$.fn.paging=function(e){if(0===this.length)return this;if(this.length>1)return this.each(function(){$(this).paging(e)}),this;var t=$.extend({current:1,total:0,onChange:$.noop},e);if(!t.total||t.total<=1)return this.hide();this.show(),this.html(c()(t));var n=this.find(".gbPaging_input");function r(){var e=parseInt(n.val(),10);e?e>t.total&&(e=t.total):e=1,t.onChange(e)}return this.find("a").on("click",function(){var e=$(this),n=e.data("goto");"prev"===n?e.hasClass("disabled")||t.onChange(t.current-1):"next"===n?e.hasClass("disabled")||t.onChange(t.current+1):"custom"===n?r():e.hasClass("actived")||t.onChange(parseInt(n,10))}),n.on("keydown",function(e){13===e.keyCode&&r()}),this}},QcjV:function(e,t,n){(function(e,r){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<i;s=r[++n])m(s)||!_(s)?a+=" "+s:a+=" "+c(s);return a},t.deprecate=function(n,i){if(b(e.process))return function(){return t.deprecate(n,i).apply(this,arguments)};if(!0===r.noDeprecation)return n;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation,o=!0}return n.apply(this,arguments)}};var a,s={};function c(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),d(r,e,r.depth)}function u(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function l(e,t){return e}function d(e,n,r){if(e.customInspect&&n&&C(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return y(i)||(i=d(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),x(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(C(n)){var c=n.name?": "+n.name:"";return e.stylize("[Function"+c+"]","special")}if(w(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var u,l="",_=!1,S=["{","}"];(p(n)&&(_=!0,S=["[","]"]),C(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return w(n)&&(l=" "+RegExp.prototype.toString.call(n)),k(n)&&(l=" "+Date.prototype.toUTCString.call(n)),x(n)&&(l=" "+f(n)),0!==a.length||_&&0!=n.length?r<0?w(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=_?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)O(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}(e,n,r,s,a):a.map(function(t){return h(e,n,r,s,t,_)}),e.seen.pop(),function(e,t,n){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,l,S)):S[0]+l+S[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function y(e){return"string"==typeof e}function b(e){return void 0===e}function w(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"===(void 0===e?"undefined":i(e))&&null!==e}function k(e){return _(e)&&"[object Date]"===S(e)}function x(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function C(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}t.debuglog=function(e){if(b(a)&&(a=Object({LANG_ENV:"production"}).NODE_DEBUG||""),e=e.toUpperCase(),!s[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){r.pid;s[e]=function(){t.format.apply(t,arguments)}}else s[e]=function(){};return s[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=g,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=y,t.isSymbol=function(e){return"symbol"===(void 0===e?"undefined":i(e))},t.isUndefined=b,t.isRegExp=w,t.isObject=_,t.isDate=k,t.isError=x,t.isFunction=C,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":i(e))||void 0===e},t.isBuffer=n("EGwU");function O(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){},t.inherits=n("kCC1"),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n("GTd5"),n("rH1J"))},RGmw:function(e,t,n){var r=n("s7Iq");e.exports=function(e){"use strict";var t="",n=((e=e||{}).hasDiscount,e.discount),i=e.goodsSn,o=(e.goodsWebSku,e.goodsCateId),a=e.goodsLink,s=e.goodsThumb,c=e.goodsTitle,u=e.goodsPrice,l=e.goodsMarkPrice,d=(e.hasMarkPrice,e.gradeCount),f=e.hasReviewed,h=(e.reviewLink,e.likesCount),p=e.likeCount,g=e.warehouseId,m=e.videoCode,v=(e.goodsNum,e.couponCode),y=e.countdownTime,b=e.countdownStatus,w=e.goodsCompare,_=e.goodsStatus,k=e.favId,x=r.$each,C=e.list,S=(e.$value,e.$index,e.goodsItem,e.expired,e.noAddCart,r.$escape),O=e.type;t+="\r\n";n=n||"discount";t+="\r\n";i=i||"goodsSn";t+="\r\n";t+="\r\n";o=o||"catId";t+="\r\n";a=a||"goodsUrl";t+="\r\n";s=s||"goodsImage";t+="\r\n";c=c||"goodsTitle";t+="\r\n";u=u||"displayPrice";t+="\r\n";l=l||"shopPrice";t+="\r\n";t+="\r\n";d=d||"reviewCount";t+="\r\n";f=f||"agvRate";t+="\r\n";t+="\r\n";h=h||"likesCount";t+="\r\n";p=p||"favoriteCount";t+="\r\n";g=g||"wareCode";t+="\r\n";m=m||"youtube";t+="\r\n";t+="\r\n";v=v||"couponCode";t+="\r\n";y=y||"expiredTime";t+="\r\n";b=b||"countdownStatus";t+="\r\n";w=w||"goodsCompare";t+="\r\n";_=_||"goodsStatus";t+="\r\n";k=k||"favId";return t+="\r\n\r\n",x(C,function(e,x){t+="\r\n    ";var C=e;t+="\r\n    ";var j=C[_]&&3==C[_]?"expired":"";t+="\r\n    ";var E=C[_]&&[3,4,5].indexOf(C[_])>=0?"no-addCart":"";t+='\r\n    <li class="gbGoodsItem ',t+=S(r.skins[O]),t+=" ",t+=S(j),t+=" ",t+=S(E),t+='" data-id="',t+=S(C[i]),t+='" data-track-key="',t+=S(C[i]),t+="_",t+=S(C[g]),t+='" data-index="',t+=S(x),t+='" data-cat-id="',t+=S(C[o]),t+='" data-trackcode="',t+=S(C[i]),t+="_",t+=S(C[o]),t+="_",t+=S(C[g]),t+='">\r\n\r\n        ',C[n]&&C[n]>0&&(t+='\r\n            <span class="gbGoodsItem_discount">\r\n                ',r.GLOBAL.LANG&&"tr"===r.GLOBAL.LANG?(t+='\r\n                    %<strong class="gbGoodsItem_per">',t+=S(C[n]),t+="</strong>\r\n                "):(t+='\r\n                    <strong class="gbGoodsItem_per">',t+=S(C[n]),t+="</strong>%\r\n                "),t+='\r\n                <i class="gbGoodsItem_off">',t+=r.trans("goodslist.discount_off"),t+="</i>\r\n            </span>\r\n        "),t+='\r\n\r\n        <a class="icon-loading gbGoodsItem_thumb js-selectItemd" href="',t+=S(C[a]),t+='" data-id="',t+=S(C[i]),t+='" data-img="',t+=S(C[s]),t+='">\r\n            <img class="js-lazyload gbGoodsItem_image" ',t+='src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="',t+=' data-lazy="',t+=S(C[s]),t+='" alt="',t+=S(C[c]),t+='" title="',t+=S(C[c]),t+='" />\r\n            ',j&&(t+='\r\n                <div class="tag-expired">',t+=r.trans("cart.goods_expired"),t+="</div>\r\n            "),t+="\r\n\r\n            ",1===O&&(t+='\r\n                <div class="gbGoodsItem_Info">\r\n                    <span class="gbGoodsItem_cart-favor js-opera" data-opera="addToCart" data-sku="',t+=S(C[i]),t+='" data-num="1" data-img="',t+=S(C[s]),t+='" data-wid="',t+=S(C[g]),t+='">\r\n                        <i class="icon-cart gbGoodsItem_cartIcon-favor"></i>\r\n                    </span>\r\n                    <span class="gbGoodsItem_delete-favor js-opera" data-opera="deleteCollect" data-favid="',t+=S(C[k]),t+='">\r\n                        <i class="icon-delete gbGoodsItem_deleteIcon-favor"></i>\r\n                    </span>\r\n                </div>\r\n            '),t+='\r\n        </a>\r\n\r\n        <a class="gbGoodsItem_title" href="',t+=S(C[a]),t+='" title="',t+=S(C[c]),t+='">\r\n            ',t+=S(C[c]),t+='\r\n        </a>\r\n\r\n        <p class="gbGoodsItem_price js-currency" data-currency="',t+=S(C[u]),t+='"></p>\r\n\r\n        ',1===O&&(t+="\r\n            ",C[l]&&C[u]!=C[l]&&C[u]<C[l]&&(t+='\r\n                <p class="gbGoodsItem_markPrice">\r\n                    <span class="js-currency" data-currency="',t+=S(C[l]),t+='"></span>\r\n                </p>\r\n            '),t+="\r\n        "),t+="\r\n\r\n        ",[2,5].indexOf(O)>=0&&(t+="\r\n            ",C[f]&&C[d]>0?(t+='\r\n                <p class="gbGoodsItem_grade">\r\n                    <span class="gbStarGrade">\r\n                        <span class="gbStarGrade_starWrap">\r\n                            <span class="compRate js-rate" data-rate="',t+=S(C.agvRate),t+='" data-frozen="false"></span>\r\n                        </span>\r\n                        <span class="gbStarGrade_count">(',t+=S(C[d]),t+=")</span>\r\n                    </span>\r\n                </p>\r\n            "):t+='\r\n                <p class="gbGoodsItem_review">\r\n                    <span class="gbGoodsItem_place"></span>\r\n                </p>\r\n            ',t+="\r\n        "),t+="\r\n\r\n        ",[0,2,3,4,5,6].indexOf(O)>=0&&(t+='\r\n            <p class="gbGoodsItem_ctrl">\r\n                ',4===O&&(t+='\r\n                    <a class="gbGoodsItem_like js-opera" href="javascript:;" data-opera="likes" data-sku="',t+=S(C[i]),t+='" data-wid="',t+=S(C[g]),t+='">\r\n                        <i class="icon-like1 gbGoodsItem_likeIcon"></i>\r\n                        <i class="gbGoodsItem_likeCount gbGoodsItem_likesCount">(',t+=S(C[h]),t+=")</i>\r\n                    </a>\r\n                "),t+="\r\n\r\n                ",[2,3,5,6].indexOf(O)>=0&&(t+='\r\n                    <a class="gbGoodsItem_like js-opera js-isCollect" href="javascript:;" data-opera="toggleCollect" data-sku="',t+=S(C[i]),t+='" data-wid="',t+=S(C[g]),t+='" data-collect-id="',t+=S(C[i]),t+='" data-collect-code="',t+=S(C[i]),t+="_",t+=S(C[g]),t+='" data-favid="" data-vircode="" data-index="',t+=S(x),t+='" data-trackcode="',t+=S(C[i]),t+="_",t+=S(C[o]),t+="_",t+=S(C[g]),t+='">\r\n                        <i class="icon-collection gbGoodsItem_likeIcon icon-favor">\r\n                            <i class="js-collectionNum gbGoodsItem_collectionNum">+1</i>\r\n                        </i>\r\n                        <i class="gbGoodsItem_likeCount js-likeCount">(',C[p]>1e3?t+="999+ ":(t+=S(C[p]),t+=" "),t+=")</i>\r\n                    </a>\r\n                "),t+="\r\n\r\n                ",[2,3,4,5,6].indexOf(O)>=0&&(t+='\r\n                    <a class="gbGoodsItem_cart js-opera" data-opera="addToCart" data-sku="',t+=S(C[i]),t+='" data-num="1" data-img="',t+=S(C[s]),t+='" data-wid="',t+=S(C[g]),t+='" data-index="',t+=S(x),t+='" data-trackcode="',t+=S(C[i]),t+="_",t+=S(C[o]),t+="_",t+=S(C[g]),t+='" href="javascript:;">\r\n                        <i class="icon-cart gbGoodsItem_cartIcon"></i>\r\n                    </a>\r\n\r\n                    ',[2,3,4,5,6].indexOf(O)>=0&&(t+="\r\n                        ",C[m]&&(t+='\r\n                            <a class="gbGoodsItem_video js-opera" data-opera="videoShow" data-video="',t+=S(C[m]),t+='" data-index="',t+=S(x),t+='" data-trackcode="',t+=S(C[i]),t+="_",t+=S(C[o]),t+="_",t+=S(C[g]),t+='" href="javascript:;">\r\n                                <i class="icon-video gbGoodsItem_videoIcon"></i>\r\n                            </a>\r\n                        '),t+="\r\n                    "),t+="\r\n                "),t+="\r\n            </p>\r\n        "),t+="\r\n\r\n        ",4===O&&(t+="\r\n            ",C[v]&&(t+='\r\n                <p class="gbGoodsItem_coupon">\r\n                    <span class="gbGoodsItem_couponCode">',t+=S(C[v]),t+='</span>\r\n                    <a class="gbGoodsItem_copyBtn js-opera" data-opera="couponCode" data-code="',t+=S(C[v]),t+='" href="javascript:;">',t+=r.trans("goodslist.coupon_copy"),t+="</a>\r\n                </p>\r\n            "),t+="\r\n\r\n            ",C[y]&&(t+='\r\n                <p class="gbGoodsItem_countdown">\r\n                    <i class="icon-clock gbGoodsItem_clockIcon"></i>\r\n                    <span class="gbGoodsItem_timeStr js-goodsItemTime" data-begin="0" data-end="0" data-time="',t+=S(C[y]),t+='" data-status="',t+=S(C[b]),t+='">Ends In: 00:00:00:00</span>\r\n                </p>\r\n            '),t+="\r\n        "),t+="\r\n\r\n        ",5===O&&(t+="\r\n            ",C[w]&&(t+='\r\n                <p class="gbGoodsItem_compareBox">\r\n                    <label class="gbGoodsItem_compare">\r\n                        <input class="gbCheckbox" type="checkbox" name="vehicle" value=""><i></i>\r\n                        <span>',t+=r.trans("goodslist.goods_compare"),t+="</span>\r\n                    </label>\r\n                </p>\r\n            "),t+="\r\n        "),t+="\r\n    </li>\r\n"}),t+="\r\n\r\n"}},Snxb:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return d});var r=n("45Iz"),i=n.n(r),o=n("BFMY"),a=["icon-loading","box-loading"],s=null;function c(){window.lazyLoadOptions={elements_selector:".js-lazyload",data_src:"lazy",class_loading:"lazy-loading",class_loaded:"lazy-loaded",class_error:"lazy-error",callback_load:u,callback_error:l},s=new i.a(window.lazyLoadOptions)}function u(e){var t,n=e.parentNode;n&&(t=n.classList).remove.apply(t,a)}function l(e){var t,n=e.parentNode,r=e.dataset,i=e.classList,s=r&&r.spare||null;n&&(t=n.classList).remove.apply(t,a);if(s&&!i.contains("spared"))e.src=s,i.add("spared");else{e.style.display="none";var c='<figure class="tearImage">'+('<img src="'+Object(o.g)("/img/site/error_img@.png")+'"></img>')+"</figure>";$(e).after(c)}}function d(){s&&s.update()}},WLlz:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"k",function(){return f}),n.d(t,"n",function(){return d}),n.d(t,"m",function(){return l}),n.d(t,"o",function(){return h}),n.d(t,"l",function(){return p}),n.d(t,"h",function(){return g}),n.d(t,"j",function(){return m}),n.d(t,"i",function(){return v}),n.d(t,"p",function(){return y}),n.d(t,"q",function(){return b});var r="gb_lang",i="gb_pipeline",o="gb_currencyCode",a="gb_countryCode",s="guid",c="cdn_countryCode",u="gb_userinfo",l="gb_isLogin",d="gb_reGoods",f="gb_firstView",h="gb_searchHistory",p="gb_goodsViewHistory",g="gb_dealsNodeItem",m="gb_exploreNodeDataId",v="gb_exploreNode",y="gb_zoneCateNav",b="gb_zoneDealsNode"},WWSc:function(e,t,n){"use strict";var r=n("bkHr"),i=n.n(r);window.addEventListener("DOMContentLoaded",function(e){i.a.publish("nativeReady",e)}),window.addEventListener("load",function(e){i.a.publish("nativeLoad",e)}),window.addEventListener("scroll",function(e){i.a.publish("nativeScroll",e)}),document.addEventListener("click",function(e){i.a.publish("nativeDocumentClick",e)}),window.addEventListener("resize",function(e){i.a.publish("nativeResize",e)})},Wquo:function(e,t,n){"use strict";n("0NHx");var r=n("GvPl"),i=n.n(r),o=n("0zUF"),a=(n.n(o),n("bkHr")),s=n.n(a),c=n("CDtz"),u=n("bEO8"),l=(n("nAUw"),n("GY2S")),d=(n.n(l),n("s7Iq")),f=n.n(d),h=n("/Y6i"),p=n("Bz9H"),g=n("kGVW"),m=n("RGmw"),v=n.n(m),y=n("jYoz"),b=(n.n(y),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function _(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}f.a.trans=h.b,f.a.skins=["gbGoodsItem-index","gbGoodsItem-user","gbGoodsItem-search","gbGoodsItem-searchCloth","gbGoodsItem-deals","gbGoodsItem-zone","gbGoodsItem-clear"];var k={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.container,n=void 0===t?i()(document):t,r=e.type,o=void 0===r?0:r,a=e.list,c=void 0===a?[]:a,l=e.append,d=void 0!==l&&l,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["container","type","list","append"]);c&&c.length>0&&(n[d?"append":"html"](v()(w({type:o,list:c,GoodsItem:GLOBAL.COUNTRY_CODE},f))),s.a.publish("sysUpdateCurrency",{context:n[0]}));var h=i()(".js-rate");"undefined"!==(void 0===h?"undefined":b(h))&&!1!==h&&h.each(function(e,t){var n=i()(t),r=n.data("rate");n.rate({rate:r})}),u.a.initApp(),0===n.closest(".goodsItem-initialized").length&&(n.addClass("goodsItem-initialized"),n.on("click",".js-opera",function(e){e.preventDefault();var t=i()(e.currentTarget),n=t.data("opera");"addToCart"===n?k.addToCart(t):"addlikes"===n?k.addlikes(t):"deletelikes"===n?k.deletelikes(t):"collect"===n?k.collect(t):"videoShow"===n?k.videoShow(t):"cancelCollect"===n?k.cancelCollect(t):"deleteCollect"===n?k.deleteCollect(t):"toggleCollect"===n?k.toggleCollect(t):"likesControl"===n&&k.likesControl(t)}))},addToCart:function(e){var t=e.data("sku"),n=e.data("num"),r=e.data("wid"),o=e.data("img");s.a.publish("sysAddToCart",{goods:{goodsSn:t,qty:n,warehouseCode:r},cartAni:{imgSrc:o,origin:e,target:i()(".js-relocate .icon-cart")}})},videoShow:function(e){var t=e.data("video"),n=t?t.split(","):[],r=n.length;if(1===r)k.cateSwalBoxControl(n[0]);else if(r>1){var i=Math.floor(Math.random()*r);k.cateSwalBoxControl(n[i])}else c.default.msg("There is no video.")},cateSwalBoxControl:function(){var e=_(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(62).then(n.bind(null,"U9TM"));case 2:r=e.sent,c.default.open({content:r({videoCode:t}),area:["auto","auto"],btn:!1,closeBtn:1});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),addlikes:function(){var e=_(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data("deals-id"),r=t.find(".js-likesCount"),i=Number(r.text().replace(/[()]/g,"")),e.next=5,p.c.http({errorPop:!1,params:{deals_id:n}});case 5:1==+(o=e.sent).status?o.data&&o.data.redirectUrl?window.location.href=o.data.redirectUrl:c.default.msg(o.msg):0==+o.status&&(t.hasClass("on")||(t.addClass("on"),r.text("("+(i+1)+")")));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deletelikes:function(){var e=_(regeneratorRuntime.mark(function e(t){var n,r,i,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data("deals-id"),r=t.find(".js-likesCount"),i=Number(r.text().replace(/[()]/g,"")),e.next=5,p.d.http({errorPop:!1,params:{deals_id:n}});case 5:1==+(o=e.sent).status?o.data&&o.data.redirectUrl?window.location.href=o.data.redirectUrl:c.default.msg(o.msg):0==+o.status&&t.hasClass("on")&&(t.removeClass("on"),i>0&&r.text("("+(i-1)+")"));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),likesControl:function(e){e.hasClass("on")?k.deletelikes(e):k.addlikes(e)},collect:function(){var e=_(regeneratorRuntime.mark(function e(t){var n,r,o,a,s,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.find(".js-likeCount"),r=t.data("sku"),o=t.data("wid"),a=i()(".js-collectNum"),s=Number(a.text()),u=Number(n.text().replace(/[()]/g,"")),e.next=8,g.d.http({errorPop:!1,data:{goods:[r+"_"+o]}});case 8:0==+(l=e.sent).status?t.hasClass("collected")||(t.addClass("collected"),t.find(".gbGoodsItem_likeIcon").addClass("animation"),t.find(".js-collectionNum").show().addClass("add-animation").html("+1").hide(300),Number.isFinite(u)?n.text("("+(u+1)+")"):n.text("(999+)"),a.text(""+(s+1)),x(a,s+1)):l.data&&l.data.redirectUrl?window.location.href=l.data.redirectUrl:c.default.msg(l.msg);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),cancelCollect:function(){var e=_(regeneratorRuntime.mark(function e(t){var n,r,o,a,s,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.find(".js-likeCount"),r=t.data("sku").toString(),o=t.data("vircode").toString(),a=i()(".js-collectNum"),s=Number(a.text()),u=Number(n.text().replace(/[()]/g,"")),e.next=8,g.n.http({errorPop:!1,data:{goodSn:r,virCode:o}});case 8:0==+(l=e.sent).status?t.hasClass("cancelCollect")||(t.removeClass("collected"),t.find(".gbGoodsItem_likeIcon").addClass("animation"),t.find(".js-collectionNum").show().addClass("add-animation").html("-1").hide(300),Number.isFinite(u)?n.text("("+(u-1)+")"):n.text("(999+)"),s>0&&(a.text(""+(s-1)),x(a,s-1))):l.data&&l.data.redirectUrl?window.location.href=l.data.redirectUrl:c.default.msg(l.msg);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),toggleCollect:function(e){e.hasClass("collected")?k.cancelCollect(e):k.collect(e)},deleteCollect:function(){var e=_(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=i()(".js-collectNum"),r=Number(n.text()),e.next=4,g.e.http({errorPop:!1,loading:!0,data:{favId:[""+t.data("favid")]}});case 4:0==+(o=e.sent).status?(r>0&&(n.text(""+(r-1)),x(n,r-1)),t.closest(".gbGoodsItem").remove()):o.data&&o.data.redirectUrl?window.location.href=o.data.redirectUrl:c.default.msg(o.msg);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()};function x(e,t){t>9?e.addClass("siteHeader_circleTag_Ten"):e.removeClass("siteHeader_circleTag_Ten")}t.a=k},X0Pb:function(e,t){},XLye:function(e,t,n){"use strict";n("0NHx");var r=n("Gq/d"),i=(n.n(r),n("GvPl")),o=n.n(i),a=n("0zUF"),s=(n.n(a),n("CDtz")),c=n("/Y6i"),u=n("K1la");n.n(u);({pageSet:o()(".js-pageSelect"),pageGoBtn:o()(".js-pageGoBtn"),pageGotoUrl:o()(".js-defaultPageValue"),pageInputVal:o()(".js-inputPageValue"),init:function(){this.pageSelectControl(),this.setPagingControl()},pageSelectControl:function(){this.pageSet.on("click","a",function(){var e=o()(this);e.hasClass("on")||e.addClass("on").siblings("a").removeClass("on")})},setPagingControl:function(){var e=this;e.pageGoBtn.on("click",function(){var t=o()(this),n=o.a.trim(e.pageInputVal.val()),r=e.pageGotoUrl.val();if(t.hasClass("disabled"))s.default.msg(Object(c.b)("goodslist.search_page_number_tips"));else if(""!==n){if(r.indexOf("defaultPageValue")>=0){var i=r.replace("defaultPageValue",n);window.location.href=i}}else s.default.msg(Object(c.b)("goodslist.store_product_tip"))})}}).init()},Z4GC:function(e,t,n){"use strict";var r=n("+CFr"),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["a"]),i(t,[{key:"customClickTrackCallback",value:function(e){var t=e.dom,n=e.classKey,r=e.configData,i=(e.module,e.targetData,r.itemType),o={};return"link"===i&&(o={ubcta:{dcn:t.dataset.trackCustom}}),"hotSearch"===i&&(o.sckw=t.textContent,o.sl=$(t).index(n)+1),"historySearch"===i&&(o.sckw=t.textContent,o.sl=$(t).index(n)+1),"recomSearch"===i&&(o.sckw=t.textContent,o.sl=$(t).index(n)),"suggestSearch"===i&&(o.sckw=t.textContent,o.sl=$(t).index(n)+1),"submitSearch"===i&&(o.siws=$(t).siblings("input").val()),o}}]),t}())({config:{".siteSearch_hotLink":{itemType:"hotSearch",click:"self",crossPage:"search",async:!0,observer:".siteSearch_candidate",customData:{sk:"T",x:"search"}},".siteSearch_recomLink":{itemType:"recomSearch",click:"self",crossPage:"search",customData:{sk:"O",x:"search"}},".siteSearch_historyLink":{itemType:"historySearch",click:"self",crossPage:"search",async:!0,observer:".siteSearch_candidate",customData:{sk:"H",x:"search"}},".siteSearch_suggestLink":{itemType:"suggestSearch",click:"self",crossPage:"search",async:!0,observer:".siteSearch_candidate",customData:{sk:"L",x:"search"}},".siteSearch_btn":{itemType:"submitSearch",type:["click"],click:"self",crossPage:"search",customData:{x:"search"}},".siteHeader_pipeLink":{itemType:"link",click:"self",customData:{x:"website"}}},context:".siteHeader"}),a=new r.a({config:{".siteBanner_link":{module:"A_0",click:".siteBanner_img",explore:"self",pageModule:"md",exploreRoot:"root"}},context:".siteBanner"});t.a=function(){o.run(),a.run()}},bEO8:function(e,t,n){"use strict";n("0NHx");var r=n("GvPl"),i=n.n(r),o=n("0zUF"),a=(n.n(o),n("kGVW")),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var c={initApp:function(){this.collectControl()},collectControl:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n=i()(".js-isCollect"),r=i()(".gbGoodsItem_ctrl"),"undefined"===(void 0===n?"undefined":s(n))||!1===n){e.next=16;break}if(n.each(function(e,n){var r=i()(n);t.push(r.data("collect-code"))}),e.prev=5,!(t&&t.length>0)){e.next=11;break}return e.next=9,a.f.http({errorPop:!1,isCancel:!1,params:{goodsSnlist:t.join(",")}});case 9:0==+(o=e.sent).status&&o.data&&o.data.length>0&&o.data.forEach(function(e,t){var n=o.data[t],i=r.find('a[data-collect-id="'+o.data[t].goodSn+'"]'),a=o.data[t].skuNum;a<1?a=0:a>1e3&&(a="999+"),i.attr({"data-favid":""+n.id,"data-vircode":""+n.virCode}).find(".js-likeCount").text("("+a+")"),!0===n.fav&&(i.hasClass("collected")||i.addClass("collected"))});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5);case 16:case"end":return e.stop()}},e,this,[[5,13]])}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})});return function(){return t.apply(this,arguments)}}()};t.a=c},bSQD:function(e,t){window.MutationObserver=window.MutationObserver||function(e){function t(e){this.i=[],this.m=e}function n(t){var n,r={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(n in t)r[n]!==e&&t[n]!==e&&(r[n]=t[n]);return r}function r(t,r){var s=o(t,r);return function(u){var l,d=u.length;r.a&&3===t.nodeType&&t.nodeValue!==s.a&&u.push(new n({type:"characterData",target:t,oldValue:s.a})),r.b&&s.b&&i(u,t,s.b,r.f),(r.c||r.g)&&(l=function(t,r,o,s){function u(e,r,o,a,c){var u,d,f,h=e.length-1;for(c=-~((h-c)/2);f=e.pop();)u=o[f.j],d=a[f.l],s.c&&c&&Math.abs(f.j-f.l)>=h&&(t.push(n({type:"childList",target:r,addedNodes:[u],removedNodes:[u],nextSibling:u.nextSibling,previousSibling:u.previousSibling})),c--),s.b&&d.b&&i(t,u,d.b,s.f),s.a&&3===u.nodeType&&u.nodeValue!==d.a&&t.push(n({type:"characterData",target:u,oldValue:d.a})),s.g&&l(u,d)}function l(r,o){for(var f,h,p,g,m,v=r.childNodes,y=o.c,b=v.length,w=y?y.length:0,_=0,k=0,x=0;k<b||x<w;)g=v[k],m=(p=y[x])&&p.node,g===m?(s.b&&p.b&&i(t,g,p.b,s.f),s.a&&p.a!==e&&g.nodeValue!==p.a&&t.push(n({type:"characterData",target:g,oldValue:p.a})),h&&u(h,r,v,y,_),s.g&&(g.childNodes.length||p.c&&p.c.length)&&l(g,p),k++,x++):(d=!0,f||(f={},h=[]),g&&(f[p=a(g)]||(f[p]=!0,-1===(p=c(y,g,x,"node"))?s.c&&(t.push(n({type:"childList",target:r,addedNodes:[g],nextSibling:g.nextSibling,previousSibling:g.previousSibling})),_++):h.push({j:k,l:p})),k++),m&&m!==v[k]&&(f[p=a(m)]||(f[p]=!0,-1===(p=c(v,m,k))?s.c&&(t.push(n({type:"childList",target:o.node,removedNodes:[m],nextSibling:y[x+1],previousSibling:y[x-1]})),_--):h.push({j:p,l:x})),x++));h&&u(h,r,v,y,_)}var d;return l(r,o),d}(u,t,s,r)),(l||u.length!==d)&&(s=o(t,r))}}function i(t,r,i,o){for(var a,s,c={},u=r.attributes,d=u.length;d--;)s=(a=u[d]).name,o&&o[s]===e||(l(r,a)!==i[s]&&t.push(n({type:"attributes",target:r,attributeName:s,oldValue:i[s],attributeNamespace:a.namespaceURI})),c[s]=!0);for(s in i)c[s]||t.push(n({target:r,type:"attributes",attributeName:s,oldValue:i[s]}))}function o(e,t){var n=!0;return function e(r){var i={node:r};return!t.a||3!==r.nodeType&&8!==r.nodeType?(t.b&&n&&1===r.nodeType&&(i.b=s(r.attributes,function(e,n){return t.f&&!t.f[n.name]||(e[n.name]=l(r,n)),e})),n&&(t.c||t.a||t.b&&t.g)&&(i.c=function(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n}(r.childNodes,e)),n=t.g):i.a=r.nodeValue,i}(e)}function a(e){try{return e.id||(e.mo_id=e.mo_id||d++)}catch(t){try{return e.nodeValue}catch(e){return d++}}}function s(e,t){for(var n={},r=0;r<e.length;r++)n=t(n,e[r],r,e);return n}function c(e,t,n,r){for(;n<e.length;n++)if((r?e[n][r]:e[n])===t)return n;return-1}t._period=30,t.prototype={observe:function(e,n){for(var i={b:!!(n.attributes||n.attributeFilter||n.attributeOldValue),c:!!n.childList,g:!!n.subtree,a:!(!n.characterData&&!n.characterDataOldValue)},o=this.i,a=0;a<o.length;a++)o[a].s===e&&o.splice(a,1);n.attributeFilter&&(i.f=s(n.attributeFilter,function(e,t){return e[t]=!0,e})),o.push({s:e,o:r(e,i)}),this.h||function(e){!function n(){var r=e.takeRecords();r.length&&e.m(r,e),e.h=setTimeout(n,t._period)}()}(this)},takeRecords:function(){for(var e=[],t=this.i,n=0;n<t.length;n++)t[n].o(e);return e},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var u=document.createElement("i");u.style.top=0;var l=(u="null"!=u.attributes.style.value)?function(e,t){return t.value}:function(e,t){return"style"!==t.name?t.value:e.style.cssText},d=1;return t}(void 0)},dS2Y:function(e,t){(function(t){e.exports=t}).call(t,{})},dwtd:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"g",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"h",function(){return f});var r=n("IBxr"),i=(window.GLOBAL||{}).DOMAIN_LOGIN,o=new r.a({method:"POST",errorPop:!1,url:"/user/login"}),a=new r.a({method:"post",loading:!0,errorPop:!1,url:"/user/social"}),s=new r.a({method:"jsonp",errorPop:!1,loading:!0,url:i+"/check-email-exist"}),c=new r.a({method:"POST",errorPop:!1,loading:!0,url:"/user/register"}),u=new r.a({method:"POST",loading:!0,url:"/user/register/send-activation-email"}),l=new r.a({method:"POST",loading:!0,url:"/user/confirm-identity"}),d=new r.a({method:"POST",loading:!0,url:"/user/reset-password"}),f=new r.a({method:"post",url:"/user/bind-social",errorPop:!1,loading:!0})},edcb:function(e,t,n){"use strict";var r=n("uj17"),i=n.n(r),o=n("wJVA"),a=i.a.create({timeout:2e4,headers:{}}),s=document.head.querySelector('meta[name="csrf-token"]');s&&(a.defaults.headers.common["X-CSRF-TOKEN"]=s.content),a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",a.interceptors.request.use(function(e){return Object(o.c)(e),e},function(e){return Promise.reject(e)}),a.interceptors.response.use(function(e){return Object(o.b)(e.config),Object(o.a)(e),e.data},function(e){return Object(o.b)(e.config),Promise.reject(e)}),t.a=a},fHdU:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return m});var r,i,o,a=n("GvPl"),s=n.n(a),c=n("oq/8"),u=n.n(c),l=n("WLlz"),d=n("kGVW"),f=n("/Y6i"),h=n("kkyZ"),p=(r=v(regeneratorRuntime.mark(function e(){var t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=i.update,a=void 0===o?0:o,s=i.toLogin,c=void 0===s?1:s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.GLOBAL.FE_PIPELINE_IS_CHANGE){e.next=3;break}return e.next=3,d.t.http();case 3:if(void 0!==y&&!a){e.next=9;break}if(t=h.a.get(l.g),n=void 0,t)try{(r=JSON.parse(u.a.decode(decodeURIComponent(t))))?y=r:n=1}catch(e){n=1}else n=1;if(!n){e.next=9;break}return e.abrupt("return",{});case 9:if(!c||y.isLogin){e.next=12;break}return window.location.href=w+"/m-users-a-sign.htm",e.abrupt("return",!1);case 12:return e.abrupt("return",y);case 13:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)}),g=(i=v(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({update:1,toLogin:0});case 2:if((t=e.sent).user){e.next=5;break}return e.abrupt("return");case 5:window.sessionStorage.setItem(l.m,""+(t.user.userName||t.user.email)),s()(".js-cartNum").text(t.cartCount||""),t.collect&&s()(".js-collectNum").text(t.collect),k(s()(".js-cartNum"),t.cartCount),k(s()(".js-collectNum"),t.collect),t&&t.isLogin&&(n=t.user.userName||t.user.email,s()(".js-headerUserInfo .siteHeader_userLogin p").eq(0).html('\n            <a href="'+_+'/index#/favor/goods" class="siteHeader_userAccountLink">\n                '+Object(f.b)("base.hi_my_account",[n+"<br/>"])+"<br/>\n            </a>"),s()(".siteHeader_userLogin").show(),s()(".siteHeader_userNoLogin").hide());case 11:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),m=(o=v(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({toLogin:0});case 2:return t=e.sent,e.abrupt("return",t.isLogin||!1);case 4:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)});function v(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var y=void 0,b=GLOBAL,w=b.DOMAIN_LOGIN,_=b.DOMAIN_USER;function k(e,t){t>9?e.addClass("siteHeader_circleTag_Ten"):e.removeClass("siteHeader_circleTag_Ten")}},i9Rx:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},iM88:function(e,t,n){"use strict";n.d(t,"d",function(){return E}),n.d(t,"e",function(){return _}),n.d(t,"b",function(){return k}),n.d(t,"c",function(){return x}),n.d(t,"a",function(){return j});var r,i,o,a=n("pQPz"),s=n("Pnud"),c=(n.n(s),n("kGVW")),u=n("s7Iq"),l=n.n(u),d=n("/Y6i"),f=n("CDtz"),h=n("0zUF"),p=(n.n(h),n("bkHr")),g=n.n(p),m=n("GvPl"),v=n.n(m),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=(r=S(regeneratorRuntime.mark(function e(t){var r,i,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([c.p.http(),n.e(58).then(n.bind(null,"erGG"))]);case 2:r=e.sent,i=w(r,2),o=i[0],s=i[1],0===o.status&&o.data.goodsList&&(v()(".js-cartNum").text(o.data.totalCount),o.data.totalCount>9?v()(".js-cartNum").addClass("siteHeader_circleTag_Ten"):v()(".js-cartNum").removeClass("siteHeader_circleTag_Ten"),v()(".js-headerCart").html(s(b({},o.data))),g.a.publish("sysUpdateCurrency",{context:v()(".js-headerCart")[0]}),v()(".js-headerCartScroll").length&&new a.default(".js-headerCartScroll")),t&&t();case 8:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),k=(i=S(regeneratorRuntime.mark(function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.goods,o=r.cartAni,a=void 0===o?{}:o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t=e.imgSrc,n=e.origin,r=e.target||v()(".js-siteHeader .icon-cart"),i=n.offset(),o=r.offset(),a=v()('<img style="z-index:1000; width:40px; height:40px; border-radius:50%;" src="'+t+'"/>');a.fly({start:{left:i.left,top:i.top-v()(window).scrollTop()},end:{left:o.left,top:o.top-v()(window).scrollTop(),width:20,height:20},speed:2,vertex_Rtop:20,onEnd:function(){a.hide()}})},c.a.cancel&&c.a.cancel(),e.next=4,c.a.http({method:"POST",data:{goods:JSON.stringify(i)}});case 4:0===(n=e.sent).status?(g.a.publish("sysUpdateSampleCart"),a.imgSrc&&a.origin&&t(a)):g.a.publish("sysAddToCartFail",n),g.a.publish("sysAddToCartAlways",n);case 7:case"end":return e.stop()}},e,this)})),function(){return i.apply(this,arguments)}),x=(o=S(regeneratorRuntime.mark(function e(){var t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.selector,s=void 0===a?".js-asyncPrice":a,u=o.context,l=void 0===u?document:u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.querySelectorAll(s),n=[],r=[],!(t.length<=0)){e.next=6;break}return g.a.publish("sysUpdateCurrency"),e.abrupt("return");case 6:return[].concat(C(t)).forEach(function(e){var t=e.dataset.asyncPrice;/\d+#\w+/.test(t)?(n.push(e.dataset.asyncPrice),r.push(e)):e.classList.add("asyncPrice-no")}),e.next=9,c.b.http({errorPop:!1,headers:{"Content-Type":"application/json"},transformRequest:function(e,t){var n=t;return delete n.common["X-CSRF-TOKEN"],delete n.common["X-Requested-With"],e},data:JSON.stringify({domain:GLOBAL.PIPELINE,accessToken:GLOBAL.ACCESS_TOKEN,version:GLOBAL.ESVERSION,language:GLOBAL.LANG,filters:[{field:"skuId",values:n}]})}).catch(function(e){});case 9:i=e.sent,O(r,i);case 11:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)});function C(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function S(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}function O(e,t){var n=void 0;t&&0===t.code&&t.data instanceof Array&&(n=t.data),n?e.forEach(function(e,r){n[r].displayPrice&&Object.assign(e.dataset,{currency:t.data[r].displayPrice}),e.classList.remove("gbAsyncPrice")}):e.forEach(function(e){e.classList.remove("gbAsyncPrice")});var r=v()(".js-installValue").attr("data-value"),i=void 0;if(r)try{i=JSON.parse(r),setTimeout(function(){var e=v()(".js_seachResultList");i.forEach(function(t){var n,r,i,o=e.find('li[data-installment-id="'+t.installmentId+'"]');o.find(".js-stagingFree").html((n=+o.find(".js-asyncPrice")[0].dataset.currency,i=[],(r=t).installments.some(function(e){return 0===e.rate&&e.installments>1&&(e.amount=n.toFixed(2)/e.installments,e.amount>r.minAmount)&&(i.push(e),!0)}),i.length>0?'<p class="gbGoodsItem_stagingTag">\n    '+i[0].installments+' x <span class="js-currency" data-currency="'+i[0].amount+'">\n    '+i[0].amount+'</span></p> \n    <p class="gbGoodsItem_freeLabel">\n        <span class="gbGoodsItem_freeTag">interest-free</span>\n    </p>':""))})})}catch(e){}g.a.publish("sysUpdateCurrency")}l.a.GLOBAL=window.GLOBAL;var j=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.goodsInfo=e.get()}return y(e,null,[{key:"get",value:function(){try{var e=window.sessionStorage.getItem("gb_goodsInfo");return JSON.parse(e)}catch(e){return{}}}}]),e}(),E=function(e){var t=e.templateCode,n=e.couponResource,r=void 0===n?7:n,i=e.successTip,o=void 0===i||i,a=e.errorPop,s=void 0===a||a,u=e.tologin,l=void 0===u||u,h=e.loading,p=void 0!==h&&h,g=e.isCancel,m=void 0!==g&&g,v=e.defaultState,y=void 0===v||v;return c.l.http({data:{templateCode:t,couponResource:r},loading:p,isCancel:m,errorPop:s}).then(function(e){var t=e.status,n=e.msg,r=e.data;if(l&&r.redirectUrl){var i=window.location.href;return window.location.href=r.redirectUrl+"&ref="+i,!1}return y&&(0===t?o&&f.default.msg(Object(d.b)("cart.got_your_coupon")):f.default.msg(n)),{status:t,msg:n,data:r}})}},ibTi:function(e,t,n){(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(e){}}).call(t,n("GTd5"))},jFYs:function(e,t){},jYoz:function(e,t){},kCC1:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},kGVW:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"p",function(){return h}),n.d(t,"l",function(){return p}),n.d(t,"t",function(){return g}),n.d(t,"s",function(){return m}),n.d(t,"q",function(){return v}),n.d(t,"i",function(){return y}),n.d(t,"o",function(){return b}),n.d(t,"d",function(){return w}),n.d(t,"a",function(){return _}),n.d(t,"e",function(){return k}),n.d(t,"n",function(){return x}),n.d(t,"f",function(){return C}),n.d(t,"k",function(){return S}),n.d(t,"m",function(){return O}),n.d(t,"j",function(){return j}),n.d(t,"g",function(){return E}),n.d(t,"c",function(){return T}),n.d(t,"r",function(){return A}),n.d(t,"x",function(){return R}),n.d(t,"u",function(){return I}),n.d(t,"w",function(){return P}),n.d(t,"v",function(){return L}),n.d(t,"h",function(){return D});var r=n("IBxr");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=GLOBAL,c=s.DOMAIN_MAIN,u=s.DOMAIN_USER,l=s.DOMAIN_CART,d=s.ASYNC_PRICE,f=new r.a({method:"POST",url:d,loading:!1,errorPop:!1,withCredentials:!1,headers:{}}),h=new r.a({method:"jsonp",loading:!1,url:l+"/cart/simple"}),p=new r.a({method:"POST",isCancel:!1,url:"/user/coupon/receive"}),g=new r.a({method:"jsonp",loading:!1,url:u+"/check/info"}),m=new r.a({method:"POST",url:"/subscribe"}),v=new r.a({method:"jsonp",loading:!1,url:c+"/get-keyword"}),y=new r.a({method:"post",url:"/feedback"}),b=new r.a({method:"jsonp",loading:!1,errorPop:!1,url:c+"/user/recent/viewed"}),w=new r.a({method:"POST",url:"/user/collection/add",errorPop:!1,loading:!1}),_=new r.a({method:"POST",url:"/cart/add",headers:{"Content-Type":"application/json"}}),k=new r.a({method:"POST",url:"/user/collection/delete",errorPop:!1,loading:!1}),x=new r.a({method:"POST",url:"/user/collection/delete-fav-goods",errorPop:!1,loading:!1}),C=new r.a({method:"jsonp",url:c+"/goods/user-fav",errorPop:!1,loading:!1}),S=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{method:"jsonp",url:c+"/get-country",loading:!1}))}return a(t,r["a"]),t}(),O=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{method:"jsonp",url:"/user/get-province",loading:!1}))}return a(t,r["a"]),t}(),j=new r.a({method:"jsonp",url:u+"/get-brazil-code",errorPop:!1,loading:!0}),E=new r.a({loading:!1,method:"jsonp",url:u+"/coupon/info"}),T=new r.a({method:"POST",url:"/cart/buy",errorPop:!1,loading:!0}),A=new r.a({method:"POST",url:"/user/store-collect"}),R=new r.a({method:"jsonp",url:c+"/get-cat-video"}),I=new r.a({method:"jsonp",url:c+"/get-video-detail"}),P=new r.a({method:"POST",url:"/video/like"}),L=new r.a({method:"POST",url:"/goods/add-fav"}),D=(new r.a({method:"POST",url:"/error/report",loading:!1,errorPop:!1}),new r.a({method:"jsonp",loading:!1,jsonpCallback:"currencyInfo",cache:!1,url:c+"/currency/info"}))},kkyZ:function(e,t,n){"use strict";var r=n("6bgg"),i=n.n(r),o=window.GLOBAL.DOMAIN_COOKIE;i.a.defaults={path:"/",domain:o,expires:365},t.a=i.a},l8UU:function(e,t,n){"use strict";t.b=function(e){var t=String(e);return r.some(function(e){return e.test(t)})},n.d(t,"a",function(){return i});var r=[/(?=.*[0-9])(?=.*[a-zA-Z]).{8,30}/,/(?=.*[0-9])(?=.*[~`@#$%^&*\-_=+|\\?/()<>[\]{}",.;'!]).{8,30}/,/(?=.*[a-zA-Z])(?=.*[~`@#$%^&*\-_=+|\\?/()<>[\]{}",.;'!]).{8,30}/];var i=/^[+\-()\d]+$/},nAUw:function(e,t,n){"use strict";var r=n("vWcM");n.n(r);$.fn.extend({rate:function(e){var t=void 0;function n(e,t){var n=t.eq(0).width(),r=e.target;return e.offsetX-r.offsetLeft>n/2}function r(e,t){e.removeClass("selected half full hover"),t>=(Math.ceil(t)+Math.floor(t))/2?t===Math.floor(t)?e.slice(0,Math.floor(t)).addClass("selected full"):(e.slice(0,Math.floor(t)).addClass("selected full"),e.eq(Math.floor(t)).addClass("selected half")):e.slice(0,Math.floor(t)).addClass("selected full")}return t={getScore:function(){},score:0},t=$.extend(t,e),this.each(function(e,i){var o=$(i),a=o.attr("data-name")||"rate",s=Number.parseFloat(o.attr("data-rate"))||0,c=Boolean(o.attr("data-frozen"))||!1,u=t.rate,l=void 0===u?s:u,d=t.frozen,f=void 0===d?c:d,h=function(e,t,n){var r=$('<input type="hidden" name="'+t+'"/>');return e.html("<i></i><i></i><i></i><i></i><i></i>"),r.insertBefore(e),r.val(n),r}(o,a,s),p=o.find("i");r(p,l),f||(p.mousemove(function(e){var t=$(e.target),r=t.index();p.slice(0,r).addClass("full"),p.slice(r+1).removeClass("selected full half"),n(e,p)?t.removeClass("half").addClass("full"):t.addClass("half").removeClass("full ")}).click(function(e){var r=$(e.target),i=r.index();n(e,p)?(l=i+1,t.getScore(l),o.attr("data-rate",l),h.val(l),p.slice(0,i+1).addClass("selected"),p.slice(i+1).removeClass("selected")):(l=i+.5,t.getScore(l),o.attr("data-rate",l),h.val(l),p.slice(0,i).addClass("selected"),r.addClass("half").addClass("selected"),p.slice(i+1).removeClass("selected"))}).mouseleave(function(e){$(e.target).removeClass("hover")}).mouseenter(function(e){$(e.target).addClass("hover")}),o.mouseover(function(e){if(/i/i.test(e.target.tagName)){var t=$(e.target).index();p.slice(0,t).addClass("hover")}}),o.mouseleave(function(){r(p,l)}))})}})},oD8f:function(e,t,n){"use strict";var r=n("bkHr"),i=n.n(r),o=n("Dzw5"),a=n("Snxb"),s=n("iM88"),c=n("fHdU");i.a.subscribe("sysUpdateCurrency",function(e,t){Object(o.a)(t)}),i.a.subscribe("sysUpdateUserInfo",function(){Object(c.c)()}),i.a.subscribe("sysUpdateSampleCart",function(e,t){Object(s.e)(t)}),i.a.subscribe("sysAddToCart",function(e,t){Object(s.b)(t)}),i.a.subscribe("sysAsyncPrice",function(e,t){Object(s.c)(t)}),i.a.subscribe("sysInitLazyload",function(e,t){Object(a.a)(t)}),i.a.subscribe("sysUpdateLazyload",function(e,t){Object(a.d)(t)})},"oq/8":function(e,t,n){(function(e,r){var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){var s="object"==o(t)&&t,c="object"==o(e)&&e&&e.exports==s&&e,u="object"==(void 0===r?"undefined":o(r))&&r;u.global!==u&&u.window!==u||(a=u);var l=function(e){this.message=e};(l.prototype=new Error).name="InvalidCharacterError";var d=function(e){throw new l(e)},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/[\t\n\f\r ]/g,p={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&d("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,r,i,o=e.length%3,a="",s=-1,c=e.length-o;++s<c;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,r=e.charCodeAt(++s),a+=f.charAt((i=t+n+r)>>18&63)+f.charAt(i>>12&63)+f.charAt(i>>6&63)+f.charAt(63&i);return 2==o?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),a+=f.charAt((i=t+n)>>10)+f.charAt(i>>4&63)+f.charAt(i<<2&63)+"="):1==o&&(i=e.charCodeAt(s),a+=f.charAt(i>>2)+f.charAt(i<<4&63)+"=="),a},decode:function(e){var t=(e=String(e).replace(h,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&d("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,i=0,o="",a=-1;++a<t;)r=f.indexOf(e.charAt(a)),n=i%4?64*n+r:r,i++%4&&(o+=String.fromCharCode(255&n>>(-2*i&6)));return o},version:"0.1.0"};if("object"==o(n("dS2Y"))&&n("dS2Y"))void 0===(i=function(){return p}.call(t,n,t,e))||(e.exports=i);else if(s&&!s.nodeType)if(c)c.exports=p;else for(var g in p)p.hasOwnProperty(g)&&(s[g]=p[g]);else a.base64=p}(this)}).call(t,n("E4vQ")(e),n("GTd5"))},rVur:function(e,t){},s7Iq:function(e,t,n){"use strict";e.exports=n("Et8C")},sp6O:function(e,t,n){"use strict";var r=n("5ZD6"),i=(n.n(r),n("kkyZ")),o=n("WLlz"),a=n("l8UU"),s=i.a.get(o.d);n("KO+U")("./messages_"+s+".js").then(function(){}).catch(function(e){}),Object.assign($.validator.messages,{required:"This field is required.",email:"Please enter a valid email address."}),$.validator.setDefaults({success:$.noop,onkeyup:!1,onsubmit:!1,ignore:".ignore",errorPlacement:function(e,t){var n=$(t),r=n.closest(".form_group"),i=r.length>0?r:n.closest(".js-formGroup"),o=i.find(".form_msg");e.is(":empty")?(i.removeClass("error"),o.length>0&&(o.hasClass("form_msg-error")?o.html("").hide():o.data("original")&&(o.html(o.data("original")),o.addClass("form_original")))):(i.addClass("error"),0===o.length&&(o=$('<p class="form_msg form_msg-error"></p>'),i.hasClass("js-formGroup")?i.append(o):n.after(o)),o.hasClass("form_msg-error")?o.show():o.data("original")||o.data("original",o.html()),o.html(e.html()))}}),$.validator.addMethod("phone",function(e,t,n){return!1===n||""===e||a.a.test(e)},"Please only use: numbers, +, -, or ()"),$.validator.addMethod("vldPassword",function(e,t,n){return!1===n||""===e||Object(a.b)(e)},"Must be at least 8 characters; please use at least 2 types (letters, numbers, or special characters)."),$.validator.addMethod("unequal",function(e,t,n){if(!1===n||""===e)return!0;var r=$(n);return r.length>0&&r.val()!==e},"The new password is the same as the old one."),$.validator.addMethod("equal",function(e,t,n){if(!1===n||""===e)return!0;var r=$(n);return r.length>0&&r.val()===e},"Enter the same password as above"),$.validator.addMethod("regex",function(e,t,n){return!1===n||""===e||new RegExp(n).test(e)},"")},uKRE:function(e,t,n){"use strict";var r=n("jFYs"),i=(n.n(r),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),o={},a={};window.DROPCACHE=o,$.fn.dropdown=function(e){if(0===this.length)return this;if(this.length>1)return this.each(function(){$(this).dropdown(e)}),this;var t=this,n=void 0,r=void 0,s=t.KEY||t.data("key");if(s in o)return o[s].Dropdown(e);var c=t.children(".dropdown_toggle"),u="DROPDOWN"+Math.floor(1e7*Math.random());t.KEY=u,t.data("key",u).addClass(u),o[u]=t;var l={mode:0,onOpen:$.noop,onClose:$.noop},d={init:function(){n=t.hasClass("dropdown-open"),r=t.hasClass("disabled"),"object"===(void 0===e?"undefined":i(e))&&$.extend(l,e),0===l.mode?c.on("mousedown",function(e){e.preventDefault()}).on("click",function(){d[n?"closeMenu":"openMenu"]()}):(c.on("mouseenter",d.openMenu),t.on("mouseleave",d.closeMenu)),t.on("DOMNodeRemovedFromDocument",function(){t.Dropdown("clean")}),t.Dropdown(e)},openMenu:function(){r||!1!==n||(n=!0,t.addClass("dropdown-open"),a[u]=t,l.onOpen(t))},closeMenu:function(){r||!0!==n||(n=!1,t.removeClass("dropdown-open"),delete a[u],l.onClose(t))}};return t.Dropdown=function(e){return"string"!=typeof e?t:("open"===e?d.openMenu():"close"===e?d.closeMenu():"disable"===e?(d.closeMenu(),r=!0,t.addClass("disabled")):"enable"===e?(r=!1,t.removeClass("disabled")):"toggle"===e?d[n?"closeMenu":"openMenu"]():"clean"===e&&delete o[t.data("key")],t)},d.init(),this},$(document).on("mousedown",function(e){for(var t in a)0===$(e.target).closest("."+t).length&&a[t].dropdown("close")})},uOQx:function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n("GvPl");e.exports=function(e,t){var n,o,a,s,c={},u=function(e,t){var n,r,i;if("string"==typeof e)return f(e);for(n=[],r=e.length,i=0;i<r;i++)n.push(f(e[i]));return t.apply(null,n)},l=function(e,t,n){2===arguments.length&&(n=t,t=null),u(t||[],function(){d(e,n,arguments)})},d=function(e,t,n){var r,i={exports:t};"function"==typeof t&&(n.length||(n=[u,i.exports,i]),void 0!==(r=t.apply(null,n))&&(i.exports=r)),c[e]=i.exports},f=function(t){var n=c[t]||e[t];if(!n)throw new Error("`"+t+"` is undefined");return n};return n=i,e.__dollar=n,function(e){var t,n,r,i,o,a;for(t in a=function(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)},c)if(n=e,c.hasOwnProperty(t)){for(o=a((r=t.split("/")).pop());i=a(r.shift());)n[i]=n[i]||{},n=n[i];n[o]=c[t]}return e}((o=e,s=u,(a=l)("dollar-third",[],function(){var e=o.require,t=o.__dollar||o.jQuery||o.Zepto||e("jquery")||e("zepto");if(!t)throw new Error("jQuery or Zepto not found!");return t}),a("dollar",["dollar-third"],function(e){return e}),a("promise-third",["dollar"],function(e){return{Deferred:e.Deferred,when:e.when,isPromise:function(e){return e&&"function"==typeof e.then}}}),a("promise",["promise-third"],function(e){return e}),a("base",["dollar","promise"],function(e,t){var n,r,i,a,s,c,u,l,d,f,h=function(){},p=Function.call;function g(e,t){return function(){return e.apply(t,arguments)}}return{version:"0.1.6",$:e,Deferred:t.Deferred,isPromise:t.isPromise,when:t.when,browser:(i=navigator.userAgent,a={},s=i.match(/WebKit\/([\d.]+)/),c=i.match(/Chrome\/([\d.]+)/)||i.match(/CriOS\/([\d.]+)/),u=i.match(/MSIE\s([\d\.]+)/)||i.match(/(?:trident)(?:.*rv:([\w.]+))?/i),l=i.match(/Firefox\/([\d.]+)/),d=i.match(/Safari\/([\d.]+)/),f=i.match(/OPR\/([\d.]+)/),s&&(a.webkit=parseFloat(s[1])),c&&(a.chrome=parseFloat(c[1])),u&&(a.ie=parseFloat(u[1])),l&&(a.firefox=parseFloat(l[1])),d&&(a.safari=parseFloat(d[1])),f&&(a.opera=parseFloat(f[1])),a),os:function(e){var t={},n=e.match(/(?:Android);?[\s\/]+([\d.]+)?/),r=e.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/);return n&&(t.android=parseFloat(n[1])),r&&(t.ios=parseFloat(r[1].replace(/_/g,"."))),t}(navigator.userAgent),inherits:function(t,n,r){var i,o,a;return"function"==typeof n?(i=n,n=null):i=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return t.apply(this,arguments)},e.extend(!0,i,t,r||{}),i.__super__=t.prototype,i.prototype=(o=t.prototype,Object.create?Object.create(o):((a=function(){}).prototype=o,new a)),n&&e.extend(!0,i.prototype,n),i},noop:h,bindFn:g,log:o.console?g(console.log,console):h,nextTick:function(e){setTimeout(e,1)},slice:(r=[].slice,function(){return p.apply(r,arguments)}),guid:(n=0,function(e){for(var t=(+new Date).toString(32),r=0;r<5;r++)t+=Math.floor(65535*Math.random()).toString(32);return(e||"wu_")+t+(n++).toString(32)}),formatSize:function(e,t,n){var r;for(n=n||["B","K","M","G","TB"];(r=n.shift())&&e>1024;)e/=1024;return("B"===r?e:e.toFixed(t||2))+r}}}),a("mediator",["base"],function(e){var t,n=e.$,r=[].slice,i=/\s+/;function o(e,t,r,i){return n.grep(e,function(e){return e&&(!t||e.e===t)&&(!r||e.cb===r||e.cb._cb===r)&&(!i||e.ctx===i)})}function a(e,t,r){n.each((e||"").split(i),function(e,n){r(n,t)})}function s(e,t){for(var n,r=!1,i=-1,o=e.length;++i<o;)if(!1===(n=e[i]).cb.apply(n.ctx2,t)){r=!0;break}return!r}return t={on:function(e,t,n){var r,i=this;return t?(r=this._events||(this._events=[]),a(e,t,function(e,t){var o={e:e};o.cb=t,o.ctx=n,o.ctx2=n||i,o.id=r.length,r.push(o)}),this):this},once:function(e,t,n){var r=this;return t?(a(e,t,function(e,t){var i=function i(){return r.off(e,i),t.apply(n||r,arguments)};i._cb=t,r.on(e,i,n)}),r):r},off:function(e,t,r){var i=this._events;return i?e||t||r?(a(e,t,function(e,t){n.each(o(i,e,t,r),function(){delete i[this.id]})}),this):(this._events=[],this):this},trigger:function(e){var t,n,i;return this._events&&e?(t=r.call(arguments,1),n=o(this._events,e),i=o(this._events,"all"),s(n,t)&&s(i,arguments)):this}},n.extend({installTo:function(e){return n.extend(e,t)}},t)}),a("uploader",["base","mediator"],function(e,t){var n=e.$;function r(e){this.options=n.extend(!0,{},r.options,e),this._init(this.options)}return r.options={},t.installTo(r.prototype),n.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(e,t){r.prototype[e]=function(){return this.request(t,arguments)}}),n.extend(r.prototype,{state:"pending",_init:function(e){var t=this;t.request("init",e,function(){t.state="ready",t.trigger("ready")})},option:function(e,t){var r=this.options;if(!(arguments.length>1))return e?r[e]:r;n.isPlainObject(t)&&n.isPlainObject(r[e])?n.extend(r[e],t):r[e]=t},getStats:function(){var e=this.request("get-stats");return e?{successNum:e.numOfSuccess,progressNum:e.numOfProgress,cancelNum:e.numOfCancel,invalidNum:e.numOfInvalid,uploadFailNum:e.numOfUploadFailed,queueNum:e.numOfQueue,interruptNum:e.numofInterrupt}:{}},trigger:function(e){var r=[].slice.call(arguments,1),i=this.options,o="on"+e.substring(0,1).toUpperCase()+e.substring(1);return!(!1===t.trigger.apply(this,arguments)||n.isFunction(i[o])&&!1===i[o].apply(this,r)||n.isFunction(this[o])&&!1===this[o].apply(this,r)||!1===t.trigger.apply(t,[this,e].concat(r)))},destroy:function(){this.request("destroy",arguments),this.off()},request:e.noop}),e.create=r.create=function(e){return new r(e)},e.Uploader=r,r}),a("runtime/runtime",["base","mediator"],function(e,t){var n=e.$,r={},i=function(e){for(var t in e)if(e.hasOwnProperty(t))return t;return null};function o(t){this.options=n.extend({container:document.body},t),this.uid=e.guid("rt_")}return n.extend(o.prototype,{getContainer:function(){var e,t,r=this.options;return this._container?this._container:(e=n(r.container||document.body),(t=n(document.createElement("div"))).attr("id","rt_"+this.uid),t.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.append(t),e.addClass("webuploader-container"),this._container=t,this._parent=e,t)},init:e.noop,exec:e.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),o.orders="html5,flash",o.addRuntime=function(e,t){r[e]=t},o.hasRuntime=function(e){return!!(e?r[e]:i(r))},o.create=function(e,t){var a;if(t=t||o.orders,n.each(t.split(/\s*,\s*/g),function(){if(r[this])return a=this,!1}),!(a=a||i(r)))throw new Error("Runtime Error");return new r[a](e)},t.installTo(o.prototype),o}),a("runtime/client",["base","mediator","runtime/runtime"],function(e,t,n){var r,i;function o(t,i){var o,a,s=e.Deferred();this.uid=e.guid("client_"),this.runtimeReady=function(e){return s.done(e)},this.connectRuntime=function(t,a){if(o)throw new Error("already connected!");return s.done(a),"string"==typeof t&&r.get(t)&&(o=r.get(t)),(o=o||r.get(null,i))?(e.$.extend(o.options,t),o.__promise.then(s.resolve),o.__client++):((o=n.create(t,t.runtimeOrder)).__promise=s.promise(),o.once("ready",s.resolve),o.init(),r.add(o),o.__client=1),i&&(o.__standalone=i),o},this.getRuntime=function(){return o},this.disconnectRuntime=function(){o&&(o.__client--,o.__client<=0&&(r.remove(o),delete o.__promise,o.destroy()),o=null)},this.exec=function(){if(o){var n=e.slice(arguments);return t&&n.unshift(t),o.exec.apply(this,n)}},this.getRuid=function(){return o&&o.uid},this.destroy=(a=this.destroy,function(){a&&a.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()})}return i={},r={add:function(e){i[e.uid]=e},get:function(e,t){var n;if(e)return i[e];for(n in i)if(!t||!i[n].__standalone)return i[n];return null},remove:function(e){delete i[e.uid]}},t.installTo(o.prototype),o}),a("lib/dnd",["base","mediator","runtime/client"],function(e,t,n){var r=e.$;function i(e){(e=this.options=r.extend({},i.options,e)).container=r(e.container),e.container.length&&n.call(this,"DragAndDrop")}return i.options={accept:null,disableGlobalDnd:!1},e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),a("widgets/widget",["base","uploader"],function(e,t){var n=e.$,r=t.prototype._init,i=t.prototype.destroy,o={},a=[];function s(e){this.owner=e,this.options=e.options}return n.extend(s.prototype,{init:e.noop,invoke:function(e,t){var r=this.responseMap;return r&&e in r&&r[e]in this&&n.isFunction(this[r[e]])?this[r[e]].apply(this,t):o},request:function(){return this.owner.request.apply(this.owner,arguments)}}),n.extend(t.prototype,{_init:function(){var e=this,t=e._widgets=[],i=e.options.disableWidgets||"";return n.each(a,function(n,r){(!i||!~i.indexOf(r._name))&&t.push(new r(e))}),r.apply(e,arguments)},request:function(t,r,i){var a,s,c,u=0,l=this._widgets,d=l&&l.length,f=[],h=[];for(r=function(e){if(!e)return!1;var t=e.length,r=n.type(e);return!(1!==e.nodeType||!t)||"array"===r||"function"!==r&&"string"!==r&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}(r)?r:[r];u<d;u++)(a=l[u].invoke(t,r))!==o&&(e.isPromise(a)?h.push(a):f.push(a));return i||h.length?(s=e.when.apply(e,h))[c=s.pipe?"pipe":"then"](function(){var t=e.Deferred(),n=arguments;return 1===n.length&&(n=n[0]),setTimeout(function(){t.resolve(n)},1),t.promise()})[i?c:"done"](i||e.noop):f[0]},destroy:function(){i.apply(this,arguments),this._widgets=null}}),t.register=s.register=function(t,r){var i,o={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(r=t,n.each(r,function(e){"_"!==e[0]&&"name"!==e?o[e.replace(/[A-Z]/g,"-$&").toLowerCase()]=e:"name"===e&&(o.name=r.name)})):o=n.extend(o,t),r.responseMap=o,(i=e.inherits(s,r))._name=o.name,a.push(i),i},t.unRegister=s.unRegister=function(e){if(e&&"anonymous"!==e)for(var t=a.length;t--;)a[t]._name===e&&a.splice(t,1)},s}),a("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(e,t,n){var r=e.$;return t.options.dnd="",t.register({name:"dnd",init:function(t){if(t.dnd&&"html5"===this.request("predict-runtime-type")){var i,o=this,a=e.Deferred(),s=r.extend({},{disableGlobalDnd:t.disableGlobalDnd,container:t.dnd,accept:t.accept});return this.dnd=i=new n(s),i.once("ready",a.resolve),i.on("drop",function(e){o.request("add-file",[e])}),i.on("accept",function(e){return o.owner.trigger("dndAccept",e)}),i.init(),a.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),a("lib/filepaste",["base","mediator","runtime/client"],function(e,t,n){var r=e.$;function i(e){(e=this.options=r.extend({},e)).container=r(e.container||document.body),n.call(this,"FilePaste")}return e.inherits(n,{constructor:i,init:function(){var e=this;e.connectRuntime(e.options,function(){e.exec("init"),e.trigger("ready")})}}),t.installTo(i.prototype),i}),a("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(e,t,n){var r=e.$;return t.register({name:"paste",init:function(t){if(t.paste&&"html5"===this.request("predict-runtime-type")){var i,o=this,a=e.Deferred(),s=r.extend({},{container:t.paste,accept:t.accept});return this.paste=i=new n(s),i.once("ready",a.resolve),i.on("paste",function(e){o.owner.request("add-file",[e])}),i.init(),a.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),a("lib/blob",["base","runtime/client"],function(e,t){function n(e,n){this.source=n,this.ruid=e,this.size=n.size||0,!n.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?this.type="image/"+("jpg"===this.ext?"jpeg":this.ext):this.type=n.type||"application/octet-stream",t.call(this,"Blob"),this.uid=n.uid||this.uid,e&&this.connectRuntime(e)}return e.inherits(t,{constructor:n,slice:function(e,t){return this.exec("slice",e,t)},getSource:function(){return this.source}}),n}),a("lib/file",["base","lib/blob"],function(e,t){var n=1,r=/\.([^.]+)$/;return e.inherits(t,function(e,i){var o;this.name=i.name||"untitled"+n++,!(o=r.exec(i.name)?RegExp.$1.toLowerCase():"")&&i.type&&(o=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(i.type)?RegExp.$1.toLowerCase():"",this.name+="."+o),this.ext=o,this.lastModifiedDate=i.lastModifiedDate||(new Date).toLocaleString(),t.apply(this,arguments)})}),a("lib/filepicker",["base","runtime/client","lib/file"],function(e,t,n){var r=e.$;function i(e){if((e=this.options=r.extend({},i.options,e)).container=r(e.id),!e.container.length)throw new Error("");e.innerHTML=e.innerHTML||e.label||e.container.html()||"",e.button=r(e.button||document.createElement("div")),e.button.html(e.innerHTML),e.container.html(e.button),t.call(this,"FilePicker",!0)}return i.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file",style:"webuploader-pick"},e.inherits(t,{constructor:i,init:function(){var t=this,i=t.options,a=i.button,s=i.style;s&&a.addClass("webuploader-pick"),t.on("all",function(e){var o;switch(e){case"mouseenter":s&&a.addClass("webuploader-pick-hover");break;case"mouseleave":s&&a.removeClass("webuploader-pick-hover");break;case"change":o=t.exec("getFiles"),t.trigger("select",r.map(o,function(e){return(e=new n(t.getRuid(),e))._refer=i.container,e}),i.container)}}),t.connectRuntime(i,function(){t.refresh(),t.exec("init",i),t.trigger("ready")}),this._resizeHandler=e.bindFn(this.refresh,this),r(o).on("resize",this._resizeHandler)},refresh:function(){var e=this.getRuntime().getContainer(),t=this.options.button,n=t.outerWidth?t.outerWidth():t.width(),r=t.outerHeight?t.outerHeight():t.height(),i=t.offset();n&&r&&e.css({bottom:"auto",right:"auto",width:n+"px",height:r+"px"}).offset(i)},enable:function(){this.options.button.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var e=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),e.addClass("webuploader-pick-disable")},destroy:function(){var e=this.options.button;r(o).off("resize",this._resizeHandler),e.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),i}),a("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(e,t,n){var r=e.$;return r.extend(t.options,{pick:null,accept:null}),t.register({name:"picker",init:function(e){return this.pickers=[],e.pick&&this.addBtn(e.pick)},refresh:function(){r.each(this.pickers,function(){this.refresh()})},addBtn:function(t){var i=this,o=i.options,a=o.accept,s=[];if(t)return r.isPlainObject(t)||(t={id:t}),r(t.id).each(function(){var c,u,l;l=e.Deferred(),c=r.extend({},t,{accept:r.isPlainObject(a)?[a]:a,swf:o.swf,runtimeOrder:o.runtimeOrder,id:this}),(u=new n(c)).once("ready",l.resolve),u.on("select",function(e){i.owner.request("add-file",[e])}),u.on("dialogopen",function(){i.owner.trigger("dialogOpen",u.button)}),u.init(),i.pickers.push(u),s.push(l.promise())}),e.when.apply(e,s)},disable:function(){r.each(this.pickers,function(){this.disable()})},enable:function(){r.each(this.pickers,function(){this.enable()})},destroy:function(){r.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),a("lib/image",["base","runtime/client","lib/blob"],function(e,t,n){var r=e.$;function i(e){this.options=r.extend({},i.options,e),t.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}return i.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},e.inherits(t,{constructor:i,info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._meta=e,this):this._meta},loadFromBlob:function(e){var t=this,n=e.getRuid();this.connectRuntime(n,function(){t.exec("init",t.options),t.exec("loadFromBlob",e)})},resize:function(){var t=e.slice(arguments);return this.exec.apply(this,["resize"].concat(t))},crop:function(){var t=e.slice(arguments);return this.exec.apply(this,["crop"].concat(t))},getAsDataUrl:function(e){return this.exec("getAsDataUrl",e)},getAsBlob:function(e){var t=this.exec("getAsBlob",e);return new n(this.getRuid(),t)}}),i}),a("widgets/image",["base","uploader","lib/image","widgets/widget"],function(e,t,n){var r,i,o,a,s=e.$;return i=0,o=[],a=function(){for(var e;o.length&&i<5242880;)e=o.shift(),i+=e[0],e[1]()},r=function(e,t,n){o.push([t,n]),e.once("destroy",function(){i-=t,setTimeout(a,1)}),setTimeout(a,1)},s.extend(t.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),t.register({name:"image",makeThumb:function(e,t,i,o){var a,c;(e=this.request("get-file",e)).type.match(/^image/)?(a=s.extend({},this.options.thumb),s.isPlainObject(i)&&(a=s.extend(a,i),i=null),i=i||a.width,o=o||a.height,(c=new n(a)).once("load",function(){e._info=e._info||c.info(),e._meta=e._meta||c.meta(),i<=1&&i>0&&(i=e._info.width*i),o<=1&&o>0&&(o=e._info.height*o),c.resize(i,o)}),c.once("complete",function(){t(!1,c.getAsDataUrl(a.type)),c.destroy()}),c.once("error",function(e){t(e||!0),c.destroy()}),r(c,e.source.size,function(){e._info&&c.info(e._info),e._meta&&c.meta(e._meta),c.loadFromBlob(e.source)})):t(!0)},beforeSendFile:function(t){var r,i,o=this.options.compress||this.options.resize,a=o&&o.compressSize||0,c=o&&o.noCompressIfLarger||!1;if(t=this.request("get-file",t),o&&~"image/jpeg,image/jpg".indexOf(t.type)&&!(t.size<a)&&!t._compressed)return o=s.extend({},o),i=e.Deferred(),r=new n(o),i.always(function(){r.destroy(),r=null}),r.once("error",i.reject),r.once("load",function(){var e=o.width,n=o.height;t._info=t._info||r.info(),t._meta=t._meta||r.meta(),e<=1&&e>0&&(e=t._info.width*e),n<=1&&n>0&&(n=t._info.height*n),r.resize(e,n)}),r.once("complete",function(){var e,n;try{e=r.getAsBlob(o.type),n=t.size,(!c||e.size<n)&&(t.source=e,t.size=e.size,t.trigger("resize",e.size,n)),t._compressed=!0,i.resolve()}catch(e){i.resolve()}}),t._info&&r.info(t._info),t._meta&&r.meta(t._meta),r.loadFromBlob(t.source),i.promise()}})}),a("file",["base","mediator"],function(e,t){var n="WU_FILE_",r=0,i=/\.([^.]+)$/,o={};function a(e){this.name=e.name||"Untitled",this.size=e.size||0,this.type=e.type||"application/octet-stream",this.lastModifiedDate=e.lastModifiedDate||1*new Date,this.id=n+r++,this.ext=i.exec(this.name)?RegExp.$1:"",this.statusText="",o[this.id]=a.Status.INITED,this.source=e,this.loaded=0,this.on("error",function(e){this.setStatus(a.Status.ERROR,e)})}return e.$.extend(a.prototype,{setStatus:function(e,t){var n=o[this.id];void 0!==t&&(this.statusText=t),e!==n&&(o[this.id]=e,this.trigger("statuschange",e,n))},getStatus:function(){return o[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete o[this.id]}}),t.installTo(a.prototype),a.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},a}),a("queue",["base","mediator","file"],function(e,t,n){var r=e.$,i=n.Status;function o(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}return r.extend(o.prototype,{append:function(e){return this._queue.push(e),this._fileAdded(e),this},prepend:function(e){return this._queue.unshift(e),this._fileAdded(e),this},getFile:function(e){return"string"!=typeof e?e:this._map[e]},fetch:function(e){var t,n,r=this._queue.length;for(e=e||i.QUEUED,t=0;t<r;t++)if(e===(n=this._queue[t]).getStatus())return n;return null},sort:function(e){"function"==typeof e&&this._queue.sort(e)},getFiles:function(){for(var e,t=[].slice.call(arguments,0),n=[],i=0,o=this._queue.length;i<o;i++)e=this._queue[i],t.length&&!~r.inArray(e.getStatus(),t)||n.push(e);return n},removeFile:function(e){this._map[e.id]&&(delete this._map[e.id],e.destroy(),this.stats.numofDeleted++)},_fileAdded:function(e){var t=this;this._map[e.id]||(this._map[e.id]=e,e.on("statuschange",function(e,n){t._onFileStatusChange(e,n)}))},_onFileStatusChange:function(e,t){var n=this.stats;switch(t){case i.PROGRESS:n.numOfProgress--;break;case i.QUEUED:n.numOfQueue--;break;case i.ERROR:n.numOfUploadFailed--;break;case i.INVALID:n.numOfInvalid--;break;case i.INTERRUPT:n.numofInterrupt--}switch(e){case i.QUEUED:n.numOfQueue++;break;case i.PROGRESS:n.numOfProgress++;break;case i.ERROR:n.numOfUploadFailed++;break;case i.COMPLETE:n.numOfSuccess++;break;case i.CANCELLED:n.numOfCancel++;break;case i.INVALID:n.numOfInvalid++;break;case i.INTERRUPT:n.numofInterrupt++}}}),t.installTo(o.prototype),o}),a("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(e,t,n,r,i,o){var a=e.$,s=/\.\w+$/,c=r.Status;return t.register({name:"queue",init:function(t){var r,i,s,c,u,l,d,f=this;if(a.isPlainObject(t.accept)&&(t.accept=[t.accept]),t.accept){for(u=[],s=0,i=t.accept.length;s<i;s++)(c=t.accept[s].extensions)&&u.push(c);u.length&&(l="\\."+u.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),f.accept=new RegExp(l,"i")}if(f.queue=new n,f.stats=f.queue.stats,"html5"===this.request("predict-runtime-type"))return r=e.Deferred(),this.placeholder=d=new o("Placeholder"),d.connectRuntime({runtimeOrder:"html5"},function(){f._ruid=d.getRuid(),r.resolve()}),r.promise()},_wrapFile:function(e){if(!(e instanceof r)){if(!(e instanceof i)){if(!this._ruid)throw new Error("Can't add external files.");e=new i(this._ruid,e)}e=new r(e)}return e},acceptFile:function(e){return!(!e||!e.size||this.accept&&s.exec(e.name)&&!this.accept.test(e.name))},_addFile:function(e){var t=this;if(e=t._wrapFile(e),t.owner.trigger("beforeFileQueued",e)){if(t.acceptFile(e))return t.queue.append(e),t.owner.trigger("fileQueued",e),e;t.owner.trigger("error","Q_TYPE_DENIED",e)}},getFile:function(e){return this.queue.getFile(e)},addFile:function(e){var t=this;e.length||(e=[e]),(e=a.map(e,function(e){return t._addFile(e)})).length&&(t.owner.trigger("filesQueued",e),t.options.auto&&setTimeout(function(){t.request("start-upload")},20))},getStats:function(){return this.stats},removeFile:function(e,t){e=e.id?e:this.queue.getFile(e),this.request("cancel-file",e),t&&this.queue.removeFile(e)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(e,t){var n,r,i;if(e)return(e=e.id?e:this.queue.getFile(e)).setStatus(c.QUEUED),void(t||this.request("start-upload"));for(r=0,i=(n=this.queue.getFiles(c.ERROR)).length;r<i;r++)(e=n[r]).setStatus(c.QUEUED);this.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new n,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),a("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(e,t){return e.support=function(){return t.hasRuntime.apply(t,arguments)},e.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var e,n,r=this.options.runtimeOrder||t.orders,i=this.type;if(!i)for(e=0,n=(r=r.split(/\s*,\s*/g)).length;e<n;e++)if(t.hasRuntime(r[e])){this.type=i=r[e];break}return i}})}),a("lib/transport",["base","runtime/client","mediator"],function(e,t,n){var i=e.$;function o(e){var n=this;e=n.options=i.extend(!0,{},o.options,e||{}),t.call(this,"Transport"),this._blob=null,this._formData=e.formData||{},this._headers=e.headers||{},this.on("progress",this._timeout),this.on("load error",function(){n.trigger("progress",1),clearTimeout(n._timer)})}return o.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},i.extend(o.prototype,{appendBlob:function(e,t,n){var r=this,i=r.options;r.getRuid()&&r.disconnectRuntime(),r.connectRuntime(t.ruid,function(){r.exec("init")}),r._blob=t,i.fileVal=e||i.fileVal,i.filename=n||i.filename},append:function(e,t){"object"===(void 0===e?"undefined":r(e))?i.extend(this._formData,e):this._formData[e]=t},setRequestHeader:function(e,t){"object"===(void 0===e?"undefined":r(e))?i.extend(this._headers,e):this._headers[e]=t},send:function(e){this.exec("send",e),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var e=this,t=e.options.timeout;t&&(clearTimeout(e._timer),e._timer=setTimeout(function(){e.abort(),e.trigger("error","timeout")},t))}}),n.installTo(o.prototype),o}),a("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(e,t,n,r){var i=e.$,o=e.isPromise,a=n.Status;i.extend(t.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),t.register({name:"upload",init:function(){var t=this.owner,n=this;this.runing=!1,this.progress=!1,t.on("startUpload",function(){n.progress=!0}).on("uploadFinished",function(){n.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=e.bindFn(this._tick,this),t.on("uploadComplete",function(e){e.blocks&&i.each(e.blocks,function(e,t){t.transport&&(t.transport.abort(),t.transport.destroy()),delete t.transport}),delete e.blocks,delete e.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(t){var n=this;if(i.each(n.request("get-files",a.INVALID),function(){n.request("remove-file",this)}),t?(t=t.id?t:n.request("get-file",t)).getStatus()===a.INTERRUPT?(t.setStatus(a.QUEUED),i.each(n.pool,function(e,n){n.file===t&&(n.transport&&n.transport.send(),t.setStatus(a.PROGRESS))})):t.getStatus()!==a.PROGRESS&&t.setStatus(a.QUEUED):i.each(n.request("get-files",[a.INITED]),function(){this.setStatus(a.QUEUED)}),n.runing)return e.nextTick(n.__tick);n.runing=!0;var r=[];t||i.each(n.pool,function(e,t){var i=t.file;i.getStatus()===a.INTERRUPT&&(n._trigged=!1,r.push(i),t.transport&&t.transport.send())}),i.each(r,function(){this.setStatus(a.PROGRESS)}),t||i.each(n.request("get-files",a.INTERRUPT),function(){this.setStatus(a.PROGRESS)}),n._trigged=!1,e.nextTick(n.__tick),n.owner.trigger("startUpload")},stopUpload:function(t,n){var r,o=this;if(!0===t&&(n=t,t=null),!1!==o.runing){if(t){if((t=t.id?t:o.request("get-file",t)).getStatus()!==a.PROGRESS&&t.getStatus()!==a.QUEUED)return;return t.setStatus(a.INTERRUPT),i.each(o.pool,function(e,n){if(n.file===t)return r=n,!1}),r.transport&&r.transport.abort(),n&&(o._putback(r),o._popBlock(r)),e.nextTick(o.__tick)}o.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(a.INTERRUPT),n&&i.each(o.pool,function(e,t){t.transport&&t.transport.abort(),t.file.setStatus(a.INTERRUPT)}),o.owner.trigger("stopUpload")}},cancelFile:function(e){(e=e.id?e:this.request("get-file",e)).blocks&&i.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),e.setStatus(a.CANCELLED),this.owner.trigger("fileDequeued",e)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(e,t){(e=e.id?e:this.request("get-file",e)).setStatus(t||a.COMPLETE),e.skipped=!0,e.blocks&&i.each(e.blocks,function(e,t){var n=t.transport;n&&(n.abort(),n.destroy(),delete t.transport)}),this.owner.trigger("uploadSkip",e)},_tick:function(){var t,n,r=this,i=r.options;if(r._promise)return r._promise.always(r.__tick);r.pool.length<i.threads&&(n=r._nextBlock())?(r._trigged=!1,t=function(t){r._promise=null,t&&t.file&&r._startSend(t),e.nextTick(r.__tick)},r._promise=o(n)?n.always(t):t(n)):r.remaning||r._getStats().numOfQueue||r._getStats().numofInterrupt||(r.runing=!1,r._trigged||e.nextTick(function(){r.owner.trigger("uploadFinished")}),r._trigged=!0)},_putback:function(e){e.cuted.unshift(e),~this.stack.indexOf(e.cuted)||this.stack.unshift(e.cuted)},_getStack:function(){for(var e,t=0;e=this.stack[t++];){if(e.has()&&e.file.getStatus()===a.PROGRESS)return e;(!e.has()||e.file.getStatus()!==a.PROGRESS&&e.file.getStatus()!==a.INTERRUPT)&&this.stack.splice(--t,1)}return null},_nextBlock:function(){var e,t,n,r,i=this,a=i.options;return(e=this._getStack())?(a.prepareNextFile&&!i.pending.length&&i._prepareNextFile(),e.shift()):i.runing?(!i.pending.length&&i._getStats().numOfQueue&&i._prepareNextFile(),t=i.pending.shift(),n=function(t){return t?(e=function(e,t){var n,r,i=[],o=e.source.size,a=t?Math.ceil(o/t):1,s=0,c=0;for(r={file:e,has:function(){return!!i.length},shift:function(){return i.shift()},unshift:function(e){i.unshift(e)}};c<a;)n=Math.min(t,o-s),i.push({file:e,start:s,end:t?s+n:o,total:o,chunks:a,chunk:c++,cuted:r}),s+=n;return e.blocks=i.concat(),e.remaning=i.length,r}(t,a.chunked?a.chunkSize:0),i.stack.push(e),e.shift()):null},o(t)?(r=t.file,(t=t[t.pipe?"pipe":"then"](n)).file=r,t):n(t)):void 0},_prepareNextFile:function(){var e,t=this,n=t.request("fetch-file"),r=t.pending;n&&(e=t.request("before-send-file",n,function(){return n.getStatus()===a.PROGRESS||n.getStatus()===a.INTERRUPT?n:t._finishFile(n)}),t.owner.trigger("uploadStart",n),n.setStatus(a.PROGRESS),e.file=n,e.done(function(){var t=i.inArray(e,r);~t&&r.splice(t,1,n)}),e.fail(function(e){n.setStatus(a.ERROR,e),t.owner.trigger("uploadError",n,e),t.owner.trigger("uploadComplete",n)}),r.push(e))},_popBlock:function(e){var t=i.inArray(e,this.pool);this.pool.splice(t,1),e.file.remaning--,this.remaning--},_startSend:function(t){var n=this,r=t.file;r.getStatus()===a.PROGRESS?(n.pool.push(t),n.remaning++,t.blob=1===t.chunks?r.source:r.source.slice(t.start,t.end),n.request("before-send",t,function(){r.getStatus()===a.PROGRESS?n._doSend(t):(n._popBlock(t),e.nextTick(n.__tick))}).fail(function(){1===r.remaning?n._finishFile(r).always(function(){t.percentage=1,n._popBlock(t),n.owner.trigger("uploadComplete",r),e.nextTick(n.__tick)}):(t.percentage=1,n.updateFileProgress(r),n._popBlock(t),e.nextTick(n.__tick))})):r.getStatus()===a.INTERRUPT&&n._putback(t)},_doSend:function(t){var n,o,s=this,c=s.owner,u=s.options,l=t.file,d=new r(u),f=i.extend({},u.formData),h=i.extend({},u.headers);t.transport=d,d.on("destroy",function(){delete t.transport,s._popBlock(t),e.nextTick(s.__tick)}),d.on("progress",function(e){t.percentage=e,s.updateFileProgress(l)}),n=function(e){var n;return(o=d.getResponseAsJson()||{})._raw=d.getResponse(),n=function(t){e=t},c.trigger("uploadAccept",t,o,n)||(e=e||"server"),e},d.on("error",function(e,r){t.retried=t.retried||0,t.chunks>1&&~"http,abort".indexOf(e)&&t.retried<u.chunkRetry?(t.retried++,d.send()):(r||"server"!==e||(e=n(e)),l.setStatus(a.ERROR,e),c.trigger("uploadError",l,e),c.trigger("uploadComplete",l))}),d.on("load",function(){var e;(e=n())?d.trigger("error",e,!0):1===l.remaning?s._finishFile(l,o):d.destroy()}),f=i.extend(f,{id:l.id,name:l.name,type:l.type,lastModifiedDate:l.lastModifiedDate,size:l.size}),t.chunks>1&&i.extend(f,{chunks:t.chunks,chunk:t.chunk}),c.trigger("uploadBeforeSend",t,f,h),d.appendBlob(u.fileVal,t.blob,l.name),d.append(f),d.setRequestHeader(h),d.send()},_finishFile:function(e,t,n){var r=this.owner;return r.request("after-send-file",arguments,function(){e.setStatus(a.COMPLETE),r.trigger("uploadSuccess",e,t,n)}).fail(function(t){e.getStatus()===a.PROGRESS&&e.setStatus(a.ERROR,t),r.trigger("uploadError",e,t)}).always(function(){r.trigger("uploadComplete",e)})},updateFileProgress:function(e){var t,n=0;e.blocks&&(i.each(e.blocks,function(e,t){n+=(t.percentage||0)*(t.end-t.start)}),t=n/e.size,this.owner.trigger("uploadProgress",e,t||0))}})}),a("widgets/validator",["base","uploader","file","widgets/widget"],function(e,t,n){var r,i=e.$,o={};return r={addValidator:function(e,t){o[e]=t},removeValidator:function(e){delete o[e]}},t.register({name:"validator",init:function(){var t=this;e.nextTick(function(){i.each(o,function(){this.call(t.owner)})})}}),r.addValidator("fileNumLimit",function(){var e=this.options,t=0,n=parseInt(e.fileNumLimit,10),r=!0;n&&(this.on("beforeFileQueued",function(e){return t>=n&&r&&(r=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",n,e),setTimeout(function(){r=!0},1)),!(t>=n)}),this.on("fileQueued",function(){t++}),this.on("fileDequeued",function(){t--}),this.on("reset",function(){t=0}))}),r.addValidator("fileSizeLimit",function(){var e=this.options,t=0,n=parseInt(e.fileSizeLimit,10),r=!0;n&&(this.on("beforeFileQueued",function(e){var i=t+e.size>n;return i&&r&&(r=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",n,e),setTimeout(function(){r=!0},1)),!i}),this.on("fileQueued",function(e){t+=e.size}),this.on("fileDequeued",function(e){t-=e.size}),this.on("reset",function(){t=0}))}),r.addValidator("fileSingleSizeLimit",function(){var e=this.options.fileSingleSizeLimit;e&&this.on("beforeFileQueued",function(t){if(t.size>e)return t.setStatus(n.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",e,t),!1})}),r.addValidator("duplicate",function(){var e={};this.options.duplicate||(this.on("beforeFileQueued",function(t){var n=t.__hash||(t.__hash=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t=e.charCodeAt(n)+(t<<6)+(t<<16)-t;return t}(t.name+t.size+t.lastModifiedDate));if(e[n])return this.trigger("error","F_DUPLICATE",t),!1}),this.on("fileQueued",function(t){var n=t.__hash;n&&(e[n]=!0)}),this.on("fileDequeued",function(t){var n=t.__hash;n&&delete e[n]}),this.on("reset",function(){e={}}))}),r}),a("lib/md5",["runtime/client","mediator"],function(e,t){function n(){e.call(this,"Md5")}return t.installTo(n.prototype),n.prototype.loadFromBlob=function(e){var t=this;t.getRuid()&&t.disconnectRuntime(),t.connectRuntime(e.ruid,function(){t.exec("init"),t.exec("loadFromBlob",e)})},n.prototype.getResult=function(){return this.exec("getResult")},n}),a("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(e,t,n,r){return t.register({name:"md5",md5File:function(t,i,o){var a=new n,s=e.Deferred(),c=t instanceof r?t:this.request("get-file",t).source;return a.on("progress load",function(e){e=e||{},s.notify(e.total?e.loaded/e.total:1)}),a.on("complete",function(){s.resolve(a.getResult())}),a.on("error",function(e){s.reject(e)}),arguments.length>1&&(i=i||0,o=o||0,i<0&&(i=c.size+i),o<0&&(o=c.size+o),o=Math.min(o,c.size),c=c.slice(i,o)),a.loadFromBlob(c),s.promise()}})}),a("runtime/compbase",[],function(){return function(e,t){this.owner=e,this.options=e.options,this.getRuntime=function(){return t},this.getRuid=function(){return t.uid},this.trigger=function(){return e.trigger.apply(e,arguments)}}}),a("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(e,t,n){var r="html5",i={};function a(){var n={},o=this,a=this.destroy;t.apply(o,arguments),o.type=r,o.exec=function(t,r){var a,s=this.uid,c=e.slice(arguments,2);if(i[t]&&(a=n[s]=n[s]||new i[t](this,o))[r])return a[r].apply(a,c)},o.destroy=function(){return a&&a.apply(this,arguments)}}return e.inherits(t,{constructor:a,init:function(){var e=this;setTimeout(function(){e.trigger("ready")},1)}}),a.register=function(t,r){return i[t]=e.inherits(n,r)},o.Blob&&o.FileReader&&o.DataView&&t.addRuntime(r,a),a}),a("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var r=this.owner.source,i=r.slice||r.webkitSlice||r.mozSlice;return r=i.call(r,e,n),new t(this.getRuid(),r)}})}),a("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(e,t,n){var r=e.$,i="webuploader-dnd-";return t.register("DragAndDrop",{init:function(){var t=this.elem=this.options.container;this.dragEnterHandler=e.bindFn(this._dragEnterHandler,this),this.dragOverHandler=e.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=e.bindFn(this._dragLeaveHandler,this),this.dropHandler=e.bindFn(this._dropHandler,this),this.dndOver=!1,t.on("dragenter",this.dragEnterHandler),t.on("dragover",this.dragOverHandler),t.on("dragleave",this.dragLeaveHandler),t.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(r(document).on("dragover",this.dragOverHandler),r(document).on("drop",this.dropHandler))},_dragEnterHandler:function(e){var t,n=this,r=n._denied||!1;return e=e.originalEvent||e,n.dndOver||(n.dndOver=!0,(t=e.dataTransfer.items)&&t.length&&(n._denied=r=!n.trigger("accept",t)),n.elem.addClass(i+"over"),n.elem[r?"addClass":"removeClass"](i+"denied")),e.dataTransfer.dropEffect=r?"none":"copy",!1},_dragOverHandler:function(e){var t=this.elem.parent().get(0);return!(t&&!r.contains(t,e.currentTarget)||(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,e),1))},_dragLeaveHandler:function(){var e,t=this;return e=function(){t.dndOver=!1,t.elem.removeClass(i+"over "+i+"denied")},clearTimeout(t._leaveTimer),t._leaveTimer=setTimeout(e,100),!1},_dropHandler:function(e){var t,o,a=this,s=a.getRuid(),c=a.elem.parent().get(0);if(c&&!r.contains(c,e.currentTarget))return!1;t=(e=e.originalEvent||e).dataTransfer;try{o=t.getData("text/html")}catch(e){}return a.dndOver=!1,a.elem.removeClass(i+"over"),o?void 0:(a._getTansferFiles(t,function(e){a.trigger("drop",r.map(e,function(e){return new n(s,e)}))}),!1)},_getTansferFiles:function(t,n){var r,i,o,a,s,c,u,l=[],d=[];for(r=t.items,i=t.files,u=!(!r||!r[0].webkitGetAsEntry),s=0,c=i.length;s<c;s++)o=i[s],a=r&&r[s],u&&a.webkitGetAsEntry().isDirectory?d.push(this._traverseDirectoryTree(a.webkitGetAsEntry(),l)):l.push(o);e.when.apply(e,d).done(function(){l.length&&n(l)})},_traverseDirectoryTree:function(t,n){var r=e.Deferred(),i=this;return t.isFile?t.file(function(e){n.push(e),r.resolve()}):t.isDirectory&&t.createReader().readEntries(function(t){var o,a=t.length,s=[],c=[];for(o=0;o<a;o++)s.push(i._traverseDirectoryTree(t[o],c));e.when.apply(e,s).then(function(){n.push.apply(n,c),r.resolve()},r.reject)}),r.promise()},destroy:function(){var e=this.elem;e&&(e.off("dragenter",this.dragEnterHandler),e.off("dragover",this.dragOverHandler),e.off("dragleave",this.dragLeaveHandler),e.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(r(document).off("dragover",this.dragOverHandler),r(document).off("drop",this.dropHandler)))}})}),a("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(e,t,n){return t.register("FilePaste",{init:function(){var t,n,r,i,o=this.options,a=this.elem=o.container,s=".*";if(o.accept){for(t=[],n=0,r=o.accept.length;n<r;n++)(i=o.accept[n].mimeTypes)&&t.push(i);t.length&&(s=(s=t.join(",")).replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=s=new RegExp(s,"i"),this.hander=e.bindFn(this._pasteHander,this),a.on("paste",this.hander)},_pasteHander:function(e){var t,r,i,o,a,s=[],c=this.getRuid();for(o=0,a=(t=(e=e.originalEvent||e).clipboardData.items).length;o<a;o++)"file"===(r=t[o]).kind&&(i=r.getAsFile())&&s.push(new n(c,i));s.length&&(e.preventDefault(),e.stopPropagation(),this.trigger("paste",s))},destroy:function(){this.elem.off("paste",this.hander)}})}),a("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(){var e,t,r,i,o=this.getRuntime().getContainer(),a=this,s=a.owner,c=a.options,u=this.label=n(document.createElement("label")),l=this.input=n(document.createElement("input"));if(l.attr("type","file"),l.attr("capture","camera"),l.attr("name",c.name),l.addClass("webuploader-element-invisible"),u.on("click",function(e){l.trigger("click"),e.stopPropagation(),s.trigger("dialogopen")}),u.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),c.multiple&&l.attr("multiple","multiple"),c.accept&&c.accept.length>0){for(e=[],t=0,r=c.accept.length;t<r;t++)e.push(c.accept[t].mimeTypes);l.attr("accept",e.join(","))}o.append(l),o.append(u),i=function(e){s.trigger(e.type)},l.on("change",function(e){var t,r=arguments.callee;a.files=e.target.files,(t=this.cloneNode(!0)).value=null,this.parentNode.replaceChild(t,this),l.off(),l=n(t).on("change",r).on("mouseenter mouseleave",i),s.trigger("change")}),u.on("mouseenter mouseleave",i)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),a("runtime/html5/util",["base"],function(e){var t=o.createObjectURL&&o||o.URL&&URL.revokeObjectURL&&URL||o.webkitURL,n=e.noop,r=n;return t&&(n=function(){return t.createObjectURL.apply(t,arguments)},r=function(){return t.revokeObjectURL.apply(t,arguments)}),{createObjectURL:n,revokeObjectURL:r,dataURL2Blob:function(e){var t,n,r,i,o,a;for(t=~(a=e.split(","))[0].indexOf("base64")?atob(a[1]):decodeURIComponent(a[1]),r=new ArrayBuffer(t.length),n=new Uint8Array(r),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return o=a[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(r,o)},dataURL2ArrayBuffer:function(e){var t,n,r,i;for(t=~(i=e.split(","))[0].indexOf("base64")?atob(i[1]):decodeURIComponent(i[1]),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer},arrayBufferToBlob:function(e,t){var n,r=o.BlobBuilder||o.WebKitBlobBuilder;return r?((n=new r).append(e),n.getBlob(t)):new Blob([e],t?{type:t}:{})},canvasToDataUrl:function(e,t,n){return e.toDataURL(t,n/100)},parseMeta:function(e,t){t(!1,{})},updateImageHead:function(e){return e}}}),a("runtime/html5/imagemeta",["runtime/html5/util"],function(e){var t;return t={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(e,t){var n=this,r=new FileReader;r.onload=function(){t(!1,n._parse(this.result)),r=r.onload=r.onerror=null},r.onerror=function(e){t(e.message),r=r.onload=r.onerror=null},e=e.slice(0,n.maxMetaDataSize),r.readAsArrayBuffer(e.getSource())},_parse:function(e,n){if(!(e.byteLength<6)){var r,i,o,a,s=new DataView(e),c=2,u=s.byteLength-4,l=c,d={};if(65496===s.getUint16(0)){for(;c<u&&((r=s.getUint16(c))>=65504&&r<=65519||65534===r)&&!(c+(i=s.getUint16(c+2)+2)>s.byteLength);){if(o=t.parsers[r],!n&&o)for(a=0;a<o.length;a+=1)o[a].call(t,s,c,i,d);l=c+=i}l>6&&(e.slice?d.imageHead=e.slice(2,l):d.imageHead=new Uint8Array(e).subarray(2,l))}return d}},updateImageHead:function(e,t){var n,r,i,o=this._parse(e,!0);return i=2,o.imageHead&&(i=2+o.imageHead.byteLength),r=e.slice?e.slice(i):new Uint8Array(e).subarray(i),(n=new Uint8Array(t.byteLength+2+r.byteLength))[0]=255,n[1]=216,n.set(new Uint8Array(t),2),n.set(new Uint8Array(r),t.byteLength+2),n.buffer}},e.parseMeta=function(){return t.parse.apply(t,arguments)},e.updateImageHead=function(){return t.updateImageHead.apply(t,arguments)},t}),a("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(e,t){var n={ExifMap:function(){return this}};return n.ExifMap.prototype.map={Orientation:274},n.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},n.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},n.exifTagTypes[7]=n.exifTagTypes[1],n.getExifValue=function(t,r,i,o,a,s){var c,u,l,d,f,h,p=n.exifTagTypes[o];if(p){if(!((u=(c=p.size*a)>4?r+t.getUint32(i+8,s):i+8)+c>t.byteLength)){if(1===a)return p.getValue(t,u,s);for(l=[],d=0;d<a;d+=1)l[d]=p.getValue(t,u+d*p.size,s);if(p.ascii){for(f="",d=0;d<l.length&&"\0"!==(h=l[d]);d+=1)f+=h;return f}return l}e.log("Invalid Exif data: Invalid data offset.")}else e.log("Invalid Exif data: Invalid tag type.")},n.parseExifTag=function(e,t,r,i,o){var a=e.getUint16(r,i);o.exif[a]=n.getExifValue(e,t,r,e.getUint16(r+2,i),e.getUint32(r+4,i),i)},n.parseExifTags=function(t,n,r,i,o){var a,s,c;if(r+6>t.byteLength)e.log("Invalid Exif data: Invalid directory offset.");else{if(!((s=r+2+12*(a=t.getUint16(r,i)))+4>t.byteLength)){for(c=0;c<a;c+=1)this.parseExifTag(t,n,r+2+12*c,i,o);return t.getUint32(s,i)}e.log("Invalid Exif data: Invalid directory size.")}},n.parseExifData=function(t,r,i,o){var a,s,c=r+10;if(1165519206===t.getUint32(r+4))if(c+8>t.byteLength)e.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(r+8)){switch(t.getUint16(c)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void e.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(c+2,a)?(s=t.getUint32(c+4,a),o.exif=new n.ExifMap,s=n.parseExifTags(t,c,c+s,a,o)):e.log("Invalid Exif data: Missing TIFF marker.")}else e.log("Invalid Exif data: Missing byte alignment offset.")},t.parsers[65505].push(n.parseExifData),n}),a("runtime/html5/jpegencoder",[],function(e,t,n){function r(e){Math.round;var t,n,r,i,o,a=Math.floor,s=new Array(64),c=new Array(64),u=new Array(64),l=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),g=[],m=0,v=7,y=new Array(64),b=new Array(64),w=new Array(64),_=new Array(256),k=new Array(2048),x=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],R=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function I(e,t){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var a=1;a<=e[o];a++)i[t[r]]=[],i[t[r]][0]=n,i[t[r]][1]=o,r++,n++;n*=2}return i}function P(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(m|=1<<v),n--,--v<0&&(255==m?(L(255),L(0)):L(m),v=7,m=0)}function L(e){g.push(_[e])}function D(e){L(e>>8&255),L(255&e)}function N(e,t,n,r,i){for(var o,a=i[0],s=i[240],c=function(e,t){var n,r,i,o,a,s,c,u,l,d,f=0;for(l=0;l<8;++l){n=e[f],r=e[f+1],i=e[f+2],o=e[f+3],a=e[f+4],s=e[f+5],c=e[f+6];var p=n+(u=e[f+7]),g=n-u,m=r+c,v=r-c,y=i+s,b=i-s,w=o+a,_=o-a,k=p+w,x=p-w,C=m+y,S=m-y;e[f]=k+C,e[f+4]=k-C;var O=.707106781*(S+x);e[f+2]=x+O,e[f+6]=x-O;var j=.382683433*((k=_+b)-(S=v+g)),E=.5411961*k+j,T=1.306562965*S+j,A=.707106781*(C=b+v),R=g+A,I=g-A;e[f+5]=I+E,e[f+3]=I-E,e[f+1]=R+T,e[f+7]=R-T,f+=8}for(f=0,l=0;l<8;++l){n=e[f],r=e[f+8],i=e[f+16],o=e[f+24],a=e[f+32],s=e[f+40],c=e[f+48];var P=n+(u=e[f+56]),L=n-u,D=r+c,N=r-c,U=i+s,M=i-s,F=o+a,G=o-a,B=P+F,z=P-F,q=D+U,H=D-U;e[f]=B+q,e[f+32]=B-q;var $=.707106781*(H+z);e[f+16]=z+$,e[f+48]=z-$;var V=.382683433*((B=G+M)-(H=N+L)),K=.5411961*B+V,Y=1.306562965*H+V,Q=.707106781*(q=M+N),J=L+Q,W=L-Q;e[f+40]=W+K,e[f+24]=W-K,e[f+8]=J+Y,e[f+56]=J-Y,f++}for(l=0;l<64;++l)d=e[l]*t[l],h[l]=d>0?d+.5|0:d-.5|0;return h}(e,t),u=0;u<64;++u)p[x[u]]=c[u];var l=p[0]-n;n=p[0],0==l?P(r[0]):(P(r[f[o=32767+l]]),P(d[o]));for(var g=63;g>0&&0==p[g];g--);if(0==g)return P(a),n;for(var m,v=1;v<=g;){for(var y=v;0==p[v]&&v<=g;++v);var b=v-y;if(b>=16){m=b>>4;for(var w=1;w<=m;++w)P(s);b&=15}o=32767+p[v],P(i[(b<<4)+f[o]]),P(d[o]),v++}return 63!=g&&P(a),n}function U(e){e<=0&&(e=1),e>100&&(e=100),o!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=a((t[n]*e+50)/100);r<1?r=1:r>255&&(r=255),s[x[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var d=a((i[o]*e+50)/100);d<1?d=1:d>255&&(d=255),c[x[o]]=d}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,p=0;p<8;p++)for(var g=0;g<8;g++)u[h]=1/(s[x[h]]*f[p]*f[g]*8),l[h]=1/(c[x[h]]*f[p]*f[g]*8),h++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),o=e)}this.encode=function(e,o){o&&U(o),g=new Array,m=0,v=7,D(65496),D(65504),D(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),D(1),D(1),L(0),L(0),function(){D(65499),D(132),L(0);for(var e=0;e<64;e++)L(s[e]);L(1);for(var t=0;t<64;t++)L(c[t])}(),function(e,t){D(65472),D(17),L(8),D(t),D(e),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1)}(e.width,e.height),function(){D(65476),D(418),L(0);for(var e=0;e<16;e++)L(C[e+1]);for(var t=0;t<=11;t++)L(S[t]);L(16);for(var n=0;n<16;n++)L(O[n+1]);for(var r=0;r<=161;r++)L(j[r]);L(1);for(var i=0;i<16;i++)L(E[i+1]);for(var o=0;o<=11;o++)L(T[o]);L(17);for(var a=0;a<16;a++)L(A[a+1]);for(var s=0;s<=161;s++)L(R[s])}(),D(65498),D(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var a=0,d=0,f=0;m=0,v=7,this.encode.displayName="_encode_";for(var h,p,_,x,I,M,F,G,B,z=e.data,q=e.width,H=e.height,$=4*q,V=0;V<H;){for(h=0;h<$;){for(M=I=$*V+h,F=-1,G=0,B=0;B<64;B++)M=I+(G=B>>3)*$+(F=4*(7&B)),V+G>=H&&(M-=$*(V+1+G-H)),h+F>=$&&(M-=h+F-$+4),p=z[M++],_=z[M++],x=z[M++],y[B]=(k[p]+k[_+256>>0]+k[x+512>>0]>>16)-128,b[B]=(k[p+768>>0]+k[_+1024>>0]+k[x+1280>>0]>>16)-128,w[B]=(k[p+1280>>0]+k[_+1536>>0]+k[x+1792>>0]>>16)-128;a=N(y,u,a,t,r),d=N(b,l,d,n,i),f=N(w,l,f,n,i),h+=32}V+=8}if(v>=0){var K=[];K[1]=v+1,K[0]=(1<<v+1)-1,P(K)}D(65497);var Y="data:image/jpeg;base64,"+btoa(g.join(""));return g=[],Y},e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)_[t]=e(t)}(),t=I(C,S),n=I(E,T),r=I(O,j),i=I(A,R),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)f[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var i=-(t-1);i<=-e;i++)f[32767+i]=n,d[32767+i]=[],d[32767+i][1]=n,d[32767+i][0]=t-1+i;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)k[e]=19595*e,k[e+256>>0]=38470*e,k[e+512>>0]=7471*e+32768,k[e+768>>0]=-11059*e,k[e+1024>>0]=-21709*e,k[e+1280>>0]=32768*e+8421375,k[e+1536>>0]=-27439*e,k[e+1792>>0]=-5329*e}(),U(e)}return r.encode=function(e,t){return new r(t).encode(e)},r}),a("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(e,t,n){var r,i=e.canvasToDataUrl;e.canvasToDataUrl=function(e,o,a){var s,c,u,l,d;return n.os.android?("image/jpeg"===o&&void 0===r&&(l=(l=~(d=(l=i.apply(null,arguments)).split(","))[0].indexOf("base64")?atob(d[1]):decodeURIComponent(d[1])).substring(0,2),r=255===l.charCodeAt(0)&&216===l.charCodeAt(1)),"image/jpeg"!==o||r?i.apply(null,arguments):(c=e.width,u=e.height,s=e.getContext("2d"),t.encode(s.getImageData(0,0,c,u),a))):i.apply(null,arguments)}}),a("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(e,t,n){return t.register("Image",{modified:!1,init:function(){var e=this,t=new Image;t.onload=function(){e._info={type:e.type,width:this.width,height:this.height},e._metas||"image/jpeg"!==e.type?e.owner.trigger("load"):n.parseMeta(e._blob,function(t,n){e._metas=n,e.owner.trigger("load")})},t.onerror=function(){e.owner.trigger("error")},e._img=t},loadFromBlob:function(e){var t=this._img;this._blob=e,this.type=e.type,t.src=n.createObjectURL(e.getSource()),this.owner.once("load",function(){n.revokeObjectURL(t.src)})},resize:function(e,t){var n=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,n,e,t),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(e,t,n,r,i){var o=this._canvas||(this._canvas=document.createElement("canvas")),a=this.options,s=this._img,c=s.naturalWidth,u=s.naturalHeight,l=this.getOrientation();i=i||1,o.width=n,o.height=r,a.preserveHeaders||this._rotate2Orientaion(o,l),this._renderImageToCanvas(o,s,-e,-t,c*i,u*i),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(e){var t,r=this._blob,i=this.options;if(e=e||this.type,this.modified||this.type!==e){if(t=this._canvas,"image/jpeg"===e){if(r=n.canvasToDataUrl(t,e,i.quality),i.preserveHeaders&&this._metas&&this._metas.imageHead)return r=n.dataURL2ArrayBuffer(r),r=n.updateImageHead(r,this._metas.imageHead),r=n.arrayBufferToBlob(r,e)}else r=n.canvasToDataUrl(t,e);r=n.dataURL2Blob(r)}return r},getAsDataUrl:function(e){var t=this.options;return"image/jpeg"===(e=e||this.type)?n.canvasToDataUrl(this._canvas,e,t.quality):this._canvas.toDataURL(e)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(e){return e?(this._info=e,this):this._info},meta:function(e){return e?(this._metas=e,this):this._metas},destroy:function(){var e=this._canvas;this._img.onload=null,e&&(e.getContext("2d").clearRect(0,0,e.width,e.height),e.width=e.height=0,this._canvas=null),this._img.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D",this._img=this._blob=null},_resize:function(e,t,n,r){var i,o,a,s,c,u=this.options,l=e.width,d=e.height,f=this.getOrientation();~[5,6,7,8].indexOf(f)&&(n^=r,n^=r^=n),i=Math[u.crop?"max":"min"](n/l,r/d),u.allowMagnify||(i=Math.min(1,i)),o=l*i,a=d*i,u.crop?(t.width=n,t.height=r):(t.width=o,t.height=a),s=(t.width-o)/2,c=(t.height-a)/2,u.preserveHeaders||this._rotate2Orientaion(t,f),this._renderImageToCanvas(t,e,s,c,o,a)},_rotate2Orientaion:function(e,t){var n=e.width,r=e.height,i=e.getContext("2d");switch(t){case 5:case 6:case 7:case 8:e.width=r,e.height=n}switch(t){case 2:i.translate(n,0),i.scale(-1,1);break;case 3:i.translate(n,r),i.rotate(Math.PI);break;case 4:i.translate(0,r),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-r);break;case 7:i.rotate(.5*Math.PI),i.translate(n,-r),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-n,0)}},_renderImageToCanvas:function(){if(!e.os.ios)return function(t){var n=e.slice(arguments,1),r=t.getContext("2d");r.drawImage.apply(r,n)};function t(e,t,n){var r,i,o=document.createElement("canvas"),a=o.getContext("2d"),s=0,c=n,u=n;for(o.width=1,o.height=n,a.drawImage(e,0,0),r=a.getImageData(0,0,1,n).data;u>s;)0===r[4*(u-1)+3]?c=u:s=u,u=c+s>>1;return 0==(i=u/n)?1:i}return e.os.ios>=7?function(e,n,r,i,o,a){var s=n.naturalWidth,c=n.naturalHeight,u=t(n,0,c);return e.getContext("2d").drawImage(n,0,0,s*u,c*u,r,i,o,a)}:function(e,n,r,i,o,a){var s,c,u,l,d,f,h,p=n.naturalWidth,g=n.naturalHeight,m=e.getContext("2d"),v=function(e){var t,n,r=e.naturalWidth;return r*e.naturalHeight>1048576&&((t=document.createElement("canvas")).width=t.height=1,(n=t.getContext("2d")).drawImage(e,1-r,0),0===n.getImageData(0,0,1,1).data[3])}(n),y="image/jpeg"===this.type,b=1024,w=0,_=0;for(v&&(p/=2,g/=2),m.save(),(s=document.createElement("canvas")).width=s.height=b,c=s.getContext("2d"),u=y?t(n,0,g):1,l=Math.ceil(b*o/p),d=Math.ceil(b*a/g/u);w<g;){for(f=0,h=0;f<p;)c.clearRect(0,0,b,b),c.drawImage(n,-f,-w),m.drawImage(s,0,0,b,b,r+h,i+_,l,d),f+=b,h+=l;w+=b,_+=d}m.restore(),s=c=null}}()})}),a("runtime/html5/transport",["base","runtime/html5/runtime"],function(e,t){var n=e.noop,r=e.$;return t.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var t,n,i,o=this.owner,a=this.options,s=this._initAjax(),c=o._blob,u=a.server;a.sendAsBinary?(u+=(/\?/.test(u)?"&":"?")+r.param(o._formData),n=c.getSource()):(t=new FormData,r.each(o._formData,function(e,n){t.append(e,n)}),t.append(a.fileVal,c.getSource(),a.filename||o._formData.name||"")),a.withCredentials&&"withCredentials"in s?(s.open(a.method,u,!0),s.withCredentials=!0):s.open(a.method,u),this._setRequestHeader(s,a.headers),n?(s.overrideMimeType&&s.overrideMimeType("application/octet-stream"),e.os.android?((i=new FileReader).onload=function(){s.send(this.result),i=i.onload=null},i.readAsArrayBuffer(n)):s.send(n)):s.send(t)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var e=this._xhr;e&&(e.upload.onprogress=n,e.onreadystatechange=n,e.abort(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,t=new XMLHttpRequest;return!this.options.withCredentials||"withCredentials"in t||"undefined"==typeof XDomainRequest||(t=new XDomainRequest),t.upload.onprogress=function(t){var n=0;return t.lengthComputable&&(n=t.loaded/t.total),e.trigger("progress",n)},t.onreadystatechange=function(){if(4===t.readyState)return t.upload.onprogress=n,t.onreadystatechange=n,e._xhr=null,e._status=t.status,t.status>=200&&t.status<300?(e._response=t.responseText,e.trigger("load")):t.status>=500&&t.status<600?(e._response=t.responseText,e.trigger("error","server")):e.trigger("error",e._status?"http":"abort")},e._xhr=t,t},_setRequestHeader:function(e,t){r.each(t,function(t,n){e.setRequestHeader(t,n)})},_parseJson:function(e){var t;try{t=JSON.parse(e)}catch(e){t={}}return t}})}),a("runtime/html5/md5",["runtime/html5/runtime"],function(e){var t=function(e,t){return e+t&4294967295},n=function(e,n,r,i,o,a){return n=t(t(n,e),t(i,a)),t(n<<o|n>>>32-o,r)},r=function(e,t,r,i,o,a,s){return n(t&r|~t&i,e,t,o,a,s)},i=function(e,t,r,i,o,a,s){return n(t&i|r&~i,e,t,o,a,s)},o=function(e,t,r,i,o,a,s){return n(t^r^i,e,t,o,a,s)},a=function(e,t,r,i,o,a,s){return n(r^(t|~i),e,t,o,a,s)},s=function(e,n){var s=e[0],c=e[1],u=e[2],l=e[3];s=r(s,c,u,l,n[0],7,-680876936),l=r(l,s,c,u,n[1],12,-389564586),u=r(u,l,s,c,n[2],17,606105819),c=r(c,u,l,s,n[3],22,-1044525330),s=r(s,c,u,l,n[4],7,-176418897),l=r(l,s,c,u,n[5],12,1200080426),u=r(u,l,s,c,n[6],17,-1473231341),c=r(c,u,l,s,n[7],22,-45705983),s=r(s,c,u,l,n[8],7,1770035416),l=r(l,s,c,u,n[9],12,-1958414417),u=r(u,l,s,c,n[10],17,-42063),c=r(c,u,l,s,n[11],22,-1990404162),s=r(s,c,u,l,n[12],7,1804603682),l=r(l,s,c,u,n[13],12,-40341101),u=r(u,l,s,c,n[14],17,-1502002290),c=r(c,u,l,s,n[15],22,1236535329),s=i(s,c,u,l,n[1],5,-165796510),l=i(l,s,c,u,n[6],9,-1069501632),u=i(u,l,s,c,n[11],14,643717713),c=i(c,u,l,s,n[0],20,-373897302),s=i(s,c,u,l,n[5],5,-701558691),l=i(l,s,c,u,n[10],9,38016083),u=i(u,l,s,c,n[15],14,-660478335),c=i(c,u,l,s,n[4],20,-405537848),s=i(s,c,u,l,n[9],5,568446438),l=i(l,s,c,u,n[14],9,-1019803690),u=i(u,l,s,c,n[3],14,-187363961),c=i(c,u,l,s,n[8],20,1163531501),s=i(s,c,u,l,n[13],5,-1444681467),l=i(l,s,c,u,n[2],9,-51403784),u=i(u,l,s,c,n[7],14,1735328473),c=i(c,u,l,s,n[12],20,-1926607734),s=o(s,c,u,l,n[5],4,-378558),l=o(l,s,c,u,n[8],11,-2022574463),u=o(u,l,s,c,n[11],16,1839030562),c=o(c,u,l,s,n[14],23,-35309556),s=o(s,c,u,l,n[1],4,-1530992060),l=o(l,s,c,u,n[4],11,1272893353),u=o(u,l,s,c,n[7],16,-155497632),c=o(c,u,l,s,n[10],23,-1094730640),s=o(s,c,u,l,n[13],4,681279174),l=o(l,s,c,u,n[0],11,-358537222),u=o(u,l,s,c,n[3],16,-722521979),c=o(c,u,l,s,n[6],23,76029189),s=o(s,c,u,l,n[9],4,-640364487),l=o(l,s,c,u,n[12],11,-421815835),u=o(u,l,s,c,n[15],16,530742520),c=o(c,u,l,s,n[2],23,-995338651),s=a(s,c,u,l,n[0],6,-198630844),l=a(l,s,c,u,n[7],10,1126891415),u=a(u,l,s,c,n[14],15,-1416354905),c=a(c,u,l,s,n[5],21,-57434055),s=a(s,c,u,l,n[12],6,1700485571),l=a(l,s,c,u,n[3],10,-1894986606),u=a(u,l,s,c,n[10],15,-1051523),c=a(c,u,l,s,n[1],21,-2054922799),s=a(s,c,u,l,n[8],6,1873313359),l=a(l,s,c,u,n[15],10,-30611744),u=a(u,l,s,c,n[6],15,-1560198380),c=a(c,u,l,s,n[13],21,1309151649),s=a(s,c,u,l,n[4],6,-145523070),l=a(l,s,c,u,n[11],10,-1120210379),u=a(u,l,s,c,n[2],15,718787259),c=a(c,u,l,s,n[9],21,-343485551),e[0]=t(s,e[0]),e[1]=t(c,e[1]),e[2]=t(u,e[2]),e[3]=t(l,e[3])},c=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n},u=function(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n},l=function(e){var t,n,r,i,o,a,u=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)s(l,c(e.substring(t-64,t)));for(n=(e=e.substring(t-64)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s(l,r),t=0;t<16;t+=1)r[t]=0;return i=(i=8*u).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,r[14]=o,r[15]=a,s(l,r),l},d=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],f=function(e){var t,n="";for(t=0;t<4;t+=1)n+=d[e>>8*t+4&15]+d[e>>8*t&15];return n},h=function(e){var t;for(t=0;t<e.length;t+=1)e[t]=f(e[t]);return e.join("")},p=function(){this.reset()};return"5d41402abc4b2a76b9719d911017c592"!==h(l("hello"))&&(t=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}),p.prototype.append=function(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),this.appendBinary(e),this},p.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,n=this._buff.length;for(t=64;t<=n;t+=64)s(this._state,c(this._buff.substring(t-64,t)));return this._buff=this._buff.substr(t-64),this},p.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=e?this._state:h(this._state),this.reset(),n},p.prototype._finish=function(e,t){var n,r,i,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(s(this._state,e),o=0;o<16;o+=1)e[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,e[14]=r,e[15]=i,s(this._state,e)},p.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},p.hash=function(e,t){/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e)));var n=l(e);return t?n:h(n)},p.hashBinary=function(e,t){var n=l(e);return t?n:h(n)},(p.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,n=this._concatArrayBuffer(this._buff,e),r=n.length;for(this._length+=e.byteLength,t=64;t<=r;t+=64)s(this._state,u(n.subarray(t-64,t)));return this._buff=t-64<r?n.subarray(t-64):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=e?this._state:h(this._state),this.reset(),n},p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._concatArrayBuffer=function(e,t){var n=e.length,r=new Uint8Array(n+t.byteLength);return r.set(e),r.set(new Uint8Array(t),n),r},p.ArrayBuffer.hash=function(e,t){var n=function(e){var t,n,r,i,o,a,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)s(l,u(e.subarray(t-64,t)));for(n=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)r[t>>2]|=e[t]<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(s(l,r),t=0;t<16;t+=1)r[t]=0;return i=(i=8*c).toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,r[14]=o,r[15]=a,s(l,r),l}(new Uint8Array(e));return t?n:h(n)},e.register("Md5",{init:function(){},loadFromBlob:function(e){var t,n,r=e.getSource(),i=Math.ceil(r.size/2097152),o=0,a=this.owner,s=new p.ArrayBuffer,c=this,u=r.mozSlice||r.webkitSlice||r.slice;n=new FileReader,(t=function(){var l,d;l=2097152*o,d=Math.min(l+2097152,r.size),n.onload=function(t){s.append(t.target.result),a.trigger("progress",{total:e.size,loaded:d})},n.onloadend=function(){n.onloadend=n.onload=null,++o<i?setTimeout(t,1):setTimeout(function(){a.trigger("load"),c.result=s.end(),t=e=r=s=null,a.trigger("complete")},50)},n.readAsArrayBuffer(u.call(r,l,d))})()},getResult:function(){return this.result}})}),a("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(e,t,n){var r=e.$,i="flash",a={};function s(){var n={},r={},s=this.destroy,c=this,u=e.guid("webuploader_");t.apply(c,arguments),c.type=i,c.exec=function(t,i){var o,s=this.uid,u=e.slice(arguments,2);return r[s]=this,a[t]&&(n[s]||(n[s]=new a[t](this,c)),(o=n[s])[i])?o[i].apply(o,u):c.flashExec.apply(this,arguments)},o[u]=function(){var e=arguments;setTimeout(function(){(function(e,t){var n,i,o=e.type||e;i=(n=o.split("::"))[0],"Ready"===(o=n[1])&&i===c.uid?c.trigger("ready"):r[i]&&r[i].trigger(o.toLowerCase(),e,t)}).apply(null,e)},1)},this.jsreciver=u,this.destroy=function(){return s&&s.apply(this,arguments)},this.flashExec=function(t,n){var r=c.getFlash(),i=e.slice(arguments,2);return r.exec(this.uid,t,n,i)}}return e.inherits(t,{constructor:s,init:function(){var t,n=this.getContainer(),r=this.options;n.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),t='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+r.swf+'" ',e.browser.ie&&(t+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),t+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+r.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',n.html(t)},getFlash:function(){return this._flash?this._flash:(this._flash=r("#"+this.uid).get(0),this._flash)}}),s.register=function(t,i){return i=a[t]=e.inherits(n,r.extend({flashExec:function(){var e=this.owner;return this.getRuntime().flashExec.apply(e,arguments)}},i))},function(){var e;try{e=(e=navigator.plugins["Shockwave Flash"]).description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(t){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1],10)}()>=11.4&&t.addRuntime(i,s),s}),a("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(e,t){var n=e.$;return t.register("FilePicker",{init:function(e){var t,r,i=n.extend({},e);for(t=i.accept&&i.accept.length,r=0;r<t;r++)i.accept[r].title||(i.accept[r].title="Files");delete i.button,delete i.id,delete i.container,this.flashExec("FilePicker","init",i)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),a("runtime/flash/image",["runtime/flash/runtime"],function(e){return e.register("Image",{loadFromBlob:function(e){var t=this.owner;t.info()&&this.flashExec("Image","info",t.info()),t.meta()&&this.flashExec("Image","meta",t.meta()),this.flashExec("Image","loadFromBlob",e.uid)}})}),a("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(e,t,n){var r=e.$;return t.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var e,t=this.owner,n=this.options,i=this._initAjax(),o=t._blob,a=n.server;i.connectRuntime(o.ruid),n.sendAsBinary?(a+=(/\?/.test(a)?"&":"?")+r.param(t._formData),e=o.uid):(r.each(t._formData,function(e,t){i.exec("append",e,t)}),i.exec("appendBlob",n.fileVal,o.uid,n.filename||t._formData.name||"")),this._setRequestHeader(i,n.headers),i.exec("send",{method:n.method,url:a,forceURLStream:n.forceURLStream,mimeType:"application/octet-stream"},e)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var e=this._xhr;e&&(e.exec("abort"),e.destroy(),this._xhr=e=null)},destroy:function(){this.abort()},_initAjax:function(){var e=this,t=new n("XMLHttpRequest");return t.on("uploadprogress progress",function(t){var n=t.loaded/t.total;return n=Math.min(1,Math.max(0,n)),e.trigger("progress",n)}),t.on("load",function(){var n,r=t.exec("getStatus"),i=!1,a="";return t.off(),e._xhr=null,r>=200&&r<300?i=!0:r>=500&&r<600?(i=!0,a="server"):a="http",i&&(e._response=t.exec("getResponse"),e._response=decodeURIComponent(e._response),n=function(e){try{return o.JSON&&o.JSON.parse?JSON.parse(e):new Function("return "+e).call()}catch(e){return{}}},e._responseJson=e._response?n(e._response):{}),t.destroy(),t=null,a?e.trigger("error",a):e.trigger("load")}),t.on("error",function(){t.off(),e._xhr=null,e.trigger("error","http")}),e._xhr=t,t},_setRequestHeader:function(e,t){r.each(t,function(t,n){e.exec("setRequestHeader",t,n)})}})}),a("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(e,t){return e.register("Blob",{slice:function(e,n){var r=this.flashExec("Blob","slice",e,n);return new t(this.getRuid(),r)}})}),a("runtime/flash/md5",["runtime/flash/runtime"],function(e){return e.register("Md5",{init:function(){},loadFromBlob:function(e){return this.flashExec("Md5","loadFromBlob",e.uid)}})}),a("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(e){return e}),a("widgets/log",["base","uploader","widgets/widget"],function(e,t){var n,r=e.$,i=" http://static.tieba.baidu.com/tb/pms/img/st.gif??",o=(location.hostname||location.host||"protected").toLowerCase();if(o&&/baidu/i.exec(o))return n={dv:3,master:"webuploader",online:/test/.exec(o)?0:1,module:"",product:o,type:0},t.register({name:"log",init:function(){var e=0,t=0;this.owner.on("error",function(e){a({type:2,c_error_code:e})}).on("uploadError",function(e,t){a({type:2,c_error_code:"UPLOAD_ERROR",c_reason:""+t})}).on("uploadComplete",function(n){e++,t+=n.size}).on("uploadFinished",function(){a({c_count:e,c_size:t}),e=t=0}),a({c_usage:1})}});function a(e){var t=r.extend({},n,e),o=i.replace(/^(.*)\?/,"$1"+r.param(t));(new Image).src=o}}),a("webuploader",["preset/all","widgets/log"],function(e){return e}),s("webuploader")))}(window)},vWcM:function(e,t){},wJVA:function(e,t,n){"use strict";t.c=function(e){e&&e.loading&&(0===o&&(i=r.default.loading()),o+=1)},t.b=function(e){e&&e.loading&&0===(o-=1)&&r.default.close(i)},t.a=function(e){try{e.data.status=+e.data.status}catch(e){}if(0!==e.data.status&&e.config.errorPop){r.default.msg(e.data.msg);var t=e.config.errorCall;t&&t(e)}};var r=n("CDtz"),i=null,o=0},y0sM:function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=this;function i(){for(var e in r.task)r.task[e].beat()}this.task={},this.add(t,n),i(),this.clock=setInterval(i,1e3)}return r(e,[{key:"add",value:function(t,n){var r=this,i=$(t);if(!t||0===i.length)return r;var o=Object.assign({format:"{dd}:{hh}:{mm}:{ss}",interval:0,charWrap:!1,onStart:$.noop,onEnd:$.noop,onChange:function(e,t){$(e).html(t)}},n);if(i.length>1)return i.each(function(e,t){r.add(t,o)}),r;var a=0;if("function"==typeof o.interval)a=(a=o.interval(i))>0?Math.floor(a):0;else if("string"==typeof o.interval){var s=i.data(o.interval),c=Math.floor(new Date/1e3);a=s&&s-c>0?s-c:0}else"number"==typeof o.interval&&o.interval>=0&&(a=Math.floor(o.interval));var u=Math.floor(1e9*Math.random());function l(){var t=e.format(a,o);o.onChange(i,t),0===a?(delete r.task[u],o.onEnd(i,t)):a-=1}return o.onStart(i,e.format(a,o)),l(),r.task[u]={beat:l},r}},{key:"clean",value:function(){this.task={}}},{key:"update",value:function(e,t){this.clean(),this.add(e,t)}},{key:"destroy",value:function(){this.clean(),clearInterval(this.clock)}}],[{key:"format",value:function(e,t){var n=e,r=Math.floor(n/60),i=Math.floor(r/60),o={d:Math.floor(i/24),h:i%24,m:r%60,s:Math.floor(n%60)},a="function"==typeof t.format?t.format(e):t.format,s=a.replace(/{(([dhms])+)}/g,function(e,t,n){var r=o[n];return t.length>1?("0"+r).substr(-2):r});return t.charWrap?s.replace(/(\d)/g,"<i>$1</i>"):s}}]),e}();t.a=i},yfDu:function(e,t,n){"use strict";var r=n("GvPl"),i=n.n(r),o=n("bkHr"),a=n.n(o),s=n("kGVW"),c=n("CDtz"),u=(n("sp6O"),n("17tJ")),l=(n.n(u),i()(".js-newsLetter"));l.validate({rules:{email:{required:!0,email:!0}}}),l.on("submit",function(e){e.preventDefault();var t=i()(e.currentTarget),n=t.find("button");t.valid()&&s.s.http({method:"post",data:{email:t.find("input").val()}}).then(function(e){c.default.msg(e.msg),n.removeClass("loading")})}),i()(".js-siteAside").length&&(i()(".js-toTop").click(function(){i()("html,body").animate({scrollTop:0},1e3)}),i()(".js-asideLink").click(function(){var e=i()(this).index();i()("html,body").animate({scrollTop:i()(".indexLayer").eq(e).offset().top-105-20})}),a.a.subscribe("nativeScroll",function(){var e=i()(".js-siteAside");i()(window).scrollTop()>300?e.addClass("active"):e.removeClass("active")}))},zQ9v:function(e,t,n){"use strict";var r=n("uj17"),i=n.n(r),o=n("edcb"),a=n("8xER");function s(e){return("jsonp"===String(e.method).toLocaleLowerCase()?a.a:o.a)(e)}s.CancelToken={source:function(e){return"jsonp"===e?a.a.CancelToken.source():i.a.CancelToken.source()}},t.a=s}});
